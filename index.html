<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTƒ∞-Muratbey Ofis Saya√ß ve Depo Takip Sistemi</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <meta name="theme-color" content="#1e2738">
    <style>
        :root {
            --primary-color: #1e2738;
            --secondary-color: #d42f2f;
            --success-color: #4CAF50;
            --warning-color: #ff9800;
            --error-color: #f44336;
            --bg-color: #f5f5f5;
            --card-bg: #ffffff;
            --text-primary: #333333;
            --text-secondary: #666666;
            --border-color: #e0e0e0;
            --shadow: 0 2px 4px rgba(0,0,0,0.1);
            --shadow-lg: 0 8px 16px rgba(0,0,0,0.15);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        [data-theme="dark"] {
            --primary-color: #1a1f2e;
            --secondary-color: #e74c3c;
            --bg-color: #0f1419;
            --card-bg: #1a1f2e;
            --text-primary: #e1e8ed;
            --text-secondary: #8899a6;
            --border-color: #2f3336;
            --shadow: 0 2px 4px rgba(0,0,0,0.3);
            --shadow-lg: 0 8px 16px rgba(0,0,0,0.4);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.6;
            transition: var(--transition);
        }
        
        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-color);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.3s;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid var(--border-color);
            border-top-color: var(--secondary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Header Styles */
        .header {
            background: var(--card-bg);
            padding: 1rem 2rem;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: var(--transition);
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .logo {
            height: 50px;
            object-fit: contain;
        }
        
        .logo-text h1 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
        }
        
        .logo-text p {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin: 0;
        }
        
        /* Navigation */
        .nav-menu {
            display: flex;
            gap: 2rem;
            align-items: center;
        }
        
        .nav-item {
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            position: relative;
        }
        
        .nav-item::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--secondary-color);
            transition: width 0.3s;
        }
        
        .nav-item:hover::after,
        .nav-item.active::after {
            width: 100%;
        }
        
        /* Theme Toggle */
        .theme-toggle {
            background: none;
            border: 2px solid var(--border-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .theme-toggle:hover {
            border-color: var(--secondary-color);
            transform: rotate(180deg);
        }
        
        /* Language Switcher */
        .lang-switcher {
            position: relative;
        }
        
        .lang-button {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }
        
        .lang-button:hover {
            border-color: var(--secondary-color);
        }
        
        .lang-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 0.5rem;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: var(--shadow-lg);
            display: none;
            min-width: 120px;
        }
        
        .lang-dropdown.show {
            display: block;
        }
        
        .lang-option {
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .lang-option:hover {
            background: var(--bg-color);
        }
        
        /* Button Styles */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            font-size: 0.875rem;
        }
        
        .btn-primary {
            background: var(--secondary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background: #b91c1c;
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-secondary {
            background: var(--primary-color);
            color: white;
        }
        
        .btn-success {
            background: var(--success-color);
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--border-color);
            color: var(--text-primary);
        }
        
        .btn-outline:hover {
            border-color: var(--secondary-color);
            color: var(--secondary-color);
        }
        
        /* Card Styles */
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }
        
        /* Form Styles */
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }
        
        .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.875rem;
            transition: var(--transition);
            background: var(--bg-color);
            color: var(--text-primary);
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(212, 47, 47, 0.1);
        }
        
        .form-input.error {
            border-color: var(--error-color);
        }
        
        .form-error {
            color: var(--error-color);
            font-size: 0.75rem;
            margin-top: 0.25rem;
        }
        
        /* Toast Notification */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
        }
        
        .toast {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 1rem 1.5rem;
            margin-bottom: 1rem;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 1rem;
            min-width: 300px;
            animation: slideIn 0.3s ease-out;
        }
        
        .toast.success {
            border-left: 4px solid var(--success-color);
        }
        
        .toast.error {
            border-left: 4px solid var(--error-color);
        }
        
        .toast.warning {
            border-left: 4px solid var(--warning-color);
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Dashboard Styles */
        .dashboard {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }
        
        .dashboard-header {
            margin-bottom: 2rem;
        }
        
        .dashboard-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }
        
        .dashboard-subtitle {
            color: var(--text-secondary);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        
        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }
        
        .stat-icon.primary {
            background: rgba(30, 39, 56, 0.1);
            color: var(--primary-color);
        }
        
        .stat-icon.success {
            background: rgba(76, 175, 80, 0.1);
            color: var(--success-color);
        }
        
        .stat-icon.warning {
            background: rgba(255, 152, 0, 0.1);
            color: var(--warning-color);
        }
        
        .stat-icon.error {
            background: rgba(244, 67, 54, 0.1);
            color: var(--error-color);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }
        
        .stat-label {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }
        
        .stat-change {
            margin-top: 0.5rem;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .stat-change.positive {
            color: var(--success-color);
        }
        
        .stat-change.negative {
            color: var(--error-color);
        }
        
        /* Table Styles */
        .table-container {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            overflow-x: auto;
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .table th {
            text-align: left;
            padding: 1rem;
            font-weight: 600;
            color: var(--text-secondary);
            border-bottom: 2px solid var(--border-color);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-primary);
        }
        
        .table tr:hover {
            background: var(--bg-color);
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(4px);
        }
        
        .modal.show {
            display: flex;
        }
        
        .modal-content {
            background: var(--card-bg);
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            animation: modalSlideIn 0.3s ease-out;
        }
        
        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }
        
        .modal-close:hover {
            background: var(--bg-color);
            color: var(--text-primary);
        }
        
        .modal-body {
            padding: 1.5rem;
        }
        
        .modal-footer {
            padding: 1.5rem;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }
        
        /* Charts */
        .chart-container {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .chart-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        /* Sidebar */
        .sidebar {
            background: var(--card-bg);
            width: 280px;
            height: calc(100vh - 80px);
            position: fixed;
            left: 0;
            top: 80px;
            overflow-y: auto;
            box-shadow: var(--shadow);
            transition: var(--transition);
            z-index: 100;
        }
        
        .sidebar-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .sidebar-search {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.875rem;
            background: var(--bg-color);
            color: var(--text-primary);
        }
        
        .sidebar-menu {
            padding: 1rem 0;
        }
        
        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            color: var(--text-primary);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.875rem;
        }
        
        .sidebar-item:hover {
            background: var(--bg-color);
        }
        
        .sidebar-item.active {
            background: var(--secondary-color);
            color: white;
        }
        
        /* Main Content */
        .main-content {
            margin-left: 280px;
            padding: 2rem;
            min-height: calc(100vh - 80px);
            transition: var(--transition);
        }
        
        .main-content.full-width {
            margin-left: 0;
        }
        
        /* Activity Log */
        .activity-log {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
        }
        
        .activity-item {
            display: flex;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-color);
            flex-shrink: 0;
        }
        
        .activity-content {
            flex: 1;
        }
        
        .activity-title {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }
        
        .activity-time {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }
        
        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-color);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 0.5rem;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--success-color);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        /* Badge */
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .badge-success {
            background: rgba(76, 175, 80, 0.1);
            color: var(--success-color);
        }
        
        .badge-warning {
            background: rgba(255, 152, 0, 0.1);
            color: var(--warning-color);
        }
        
        .badge-error {
            background: rgba(244, 67, 54, 0.1);
            color: var(--error-color);
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.show {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-wrap: wrap;
                gap: 1rem;
            }
            
            .nav-menu {
                width: 100%;
                justify-content: space-between;
            }
            
            .dashboard {
                padding: 0 1rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Animations */
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        .slide-up {
            animation: slideUp 0.3s ease-out;
        }
        
        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        /* Print Styles */
        @media print {
            .header,
            .sidebar,
            .btn,
            .modal {
                display: none !important;
            }
            
            .main-content {
                margin-left: 0 !important;
            }
            
            .card {
                box-shadow: none !important;
                border: 1px solid #ddd;
            }
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--bg-color);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }
        
        /* Loading States */
        .skeleton {
            background: linear-gradient(90deg, var(--bg-color) 25%, var(--border-color) 50%, var(--bg-color) 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }
        
        /* Tooltip */
        .tooltip {
            position: relative;
        }
        
        .tooltip-text {
            visibility: hidden;
            background: var(--primary-color);
            color: white;
            text-align: center;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.75rem;
            white-space: nowrap;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        /* Switch Toggle */
        .switch {
            position: relative;
            display: inline-block;
            width: 48px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .switch-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--border-color);
            transition: var(--transition);
            border-radius: 24px;
        }
        
        .switch-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: var(--transition);
            border-radius: 50%;
        }
        
        .switch input:checked + .switch-slider {
            background-color: var(--success-color);
        }
        
        .switch input:checked + .switch-slider:before {
            transform: translateX(24px);
        }
        
        /* Hero Section */
        .hero {
            height: calc(100vh - 80px);
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary-color) 0%, #2a3447 100%);
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff10" d="M0,224L48,213.3C96,203,192,181,288,165.3C384,149,480,139,576,154.7C672,171,768,213,864,213.3C960,213,1056,171,1152,154.7C1248,139,1344,149,1392,154.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') repeat-x;
            animation: wave 20s linear infinite;
        }
        
        @keyframes wave {
            0% { transform: translateX(0); }
            100% { transform: translateX(-1440px); }
        }
        
        .hero-content {
            text-align: center;
            color: white;
            z-index: 1;
            max-width: 800px;
            padding: 2rem;
        }
        
        .hero-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            animation: slideUp 0.8s ease-out;
        }
        
        .hero-subtitle {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            animation: slideUp 0.8s ease-out 0.2s both;
        }
        
        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            animation: slideUp 0.8s ease-out 0.4s both;
        }
        
        /* Footer */
        .footer {
            background: var(--card-bg);
            padding: 3rem 0 1rem;
            margin-top: 4rem;
            border-top: 1px solid var(--border-color);
        }
        
        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }
        
        .footer-section h3 {
            font-size: 1.125rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        
        .footer-section p,
        .footer-section a {
            color: var(--text-secondary);
            font-size: 0.875rem;
            line-height: 1.8;
            text-decoration: none;
        }
        
        .footer-section a:hover {
            color: var(--secondary-color);
        }
        
        .footer-bottom {
            text-align: center;
            padding: 2rem;
            border-top: 1px solid var(--border-color);
            margin-top: 2rem;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem;
            color: var(--text-secondary);
        }
        
        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }
        
        .empty-state-title {
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }
        
        .empty-state-text {
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-spinner"></div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Main App -->
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-container">
                    <img src="gti-logo.svg" alt="GTƒ∞ Logo" class="logo">
                    <div class="logo-text">
                        <h1 data-i18n="app.title">Muratbey</h1>
                        <p data-i18n="app.subtitle">Ofis Saya√ß-Depo Envanter Takip Sistemi</p>
                    </div>
                </div>
                <nav class="nav-menu">
                    <a href="#" class="nav-item active" data-page="home" data-i18n="nav.home">Ana Sayfa</a>
                    <a href="#" class="nav-item" data-page="about" data-i18n="nav.about">Hakkƒ±mƒ±zda</a>
                    <a href="#" class="nav-item" data-page="contact" data-i18n="nav.contact">ƒ∞leti≈üim</a>
                    <div class="lang-switcher">
                        <button class="lang-button" id="langButton">
                            <span id="currentLang">TR</span>
                            <svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
                                <path d="M2 4l4 4 4-4z"/>
                            </svg>
                        </button>
                        <div class="lang-dropdown" id="langDropdown">
                            <div class="lang-option" data-lang="tr">T√ºrk√ße</div>
                            <div class="lang-option" data-lang="en">English</div>
                        </div>
                    </div>
                    <button class="theme-toggle" id="themeToggle">
                        <span id="themeIcon">üåô</span>
                    </button>
                    <button class="btn btn-primary" id="loginBtn" data-i18n="nav.login">Giri≈ü Yap</button>
                </nav>
            </div>
        </header>

        <!-- Main Content Area -->
        <main id="mainContent">
            <!-- Home Page -->
            <section id="homePage" class="page">
                <div class="hero">
                    <div class="hero-content">
                        <h1 class="hero-title" data-i18n="hero.title">Ofis Saya√ß-Depo Envanter Takip Sistemi</h1>
                        <p class="hero-subtitle" data-i18n="hero.subtitle">
                            GTƒ∞'nin geli≈ütirdiƒüi bu platform, ofislerdeki elektrik, su ve doƒüalgaz saya√ßlarƒ±nƒ±n yanƒ± sƒ±ra 
                            depo envanterlerinin de takibini kolayla≈ütƒ±rƒ±r.
                        </p>
                        <div class="hero-buttons">
                            <button class="btn btn-primary" id="heroLoginBtn" data-i18n="hero.loginBtn">Sisteme Giri≈ü Yap</button>
                            <a href="#features" class="btn btn-outline" data-i18n="hero.learnMore">Daha Fazla Bilgi</a>
                        </div>
                    </div>
                </div>
                
                <!-- Features Section -->
                <section id="features" style="padding: 4rem 2rem;">
                    <div style="max-width: 1400px; margin: 0 auto;">
                        <h2 style="text-align: center; font-size: 2rem; margin-bottom: 3rem;" data-i18n="features.title">
                            √ñzellikler
                        </h2>
                        <div class="stats-grid">
                            <div class="card">
                                <div class="stat-icon primary">üìä</div>
                                <h3 data-i18n="features.realtime.title">Ger√ßek Zamanlƒ± Takip</h3>
                                <p data-i18n="features.realtime.desc">Saya√ß deƒüerlerini anlƒ±k olarak g√∂r√ºnt√ºleyin ve kaydedin</p>
                            </div>
                            <div class="card">
                                <div class="stat-icon success">üìà</div>
                                <h3 data-i18n="features.analytics.title">Detaylƒ± Analizler</h3>
                                <p data-i18n="features.analytics.desc">T√ºketim trendlerini grafiklerle analiz edin</p>
                            </div>
                            <div class="card">
                                <div class="stat-icon warning">üîî</div>
                                <h3 data-i18n="features.alerts.title">Akƒ±llƒ± Uyarƒ±lar</h3>
                                <p data-i18n="features.alerts.desc">Anormal t√ºketimler i√ßin otomatik bildirimler alƒ±n</p>
                            </div>
                            <div class="card">
                                <div class="stat-icon error">üì¶</div>
                                <h3 data-i18n="features.inventory.title">Envanter Y√∂netimi</h3>
                                <p data-i18n="features.inventory.desc">Depo stoklarƒ±nƒ± kolayca takip edin ve y√∂netin</p>
                            </div>
                        </div>
                    </div>
                </section>
            </section>

            <!-- About Page -->
            <section id="aboutPage" class="page" style="display: none;">
                <div class="dashboard">
                    <div class="card">
                        <h1 data-i18n="about.title">Muratbey G√ºmr√ºk M√ºd√ºrl√ºƒü√º Hakkƒ±nda</h1>
                        <div class="stats-grid" style="margin: 2rem 0;">
                            <div class="stat-card">
                                <div class="stat-value">220.000 m¬≤</div>
                                <div class="stat-label" data-i18n="about.stats.totalArea">Toplam Alan</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">56.472 m¬≤</div>
                                <div class="stat-label" data-i18n="about.stats.closedArea">Kapalƒ± Alan</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">35.000 m¬≤</div>
                                <div class="stat-label" data-i18n="about.stats.warehouseArea">Depo Alanƒ±</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">200+</div>
                                <div class="stat-label" data-i18n="about.stats.offices">Ofis Sayƒ±sƒ±</div>
                            </div>
                        </div>
                        <div style="line-height: 1.8; color: var(--text-secondary);">
                            <p data-i18n="about.content.p1">
                                T√ºrkiye'nin dƒ±≈ü ticaretinde √∂nemli bir yere sahip olan, ≈üehir i√ßinde kaldƒ±ƒüƒ± i√ßin trafik akƒ±≈üƒ±nƒ± 
                                olumsuz etkileyen, fiziki ko≈üullarƒ±nƒ±n yetersizliƒüi nedeniyle ihtiyaca cevap veremeyen, eski adƒ±yla 
                                Halkalƒ± G√ºmr√ºk M√ºd√ºrl√ºƒü√º modernize edilerek ƒ∞stanbul'un √áatalca b√∂lgesine ta≈üƒ±nmƒ±≈ü ve Muratbey G√ºmr√ºk 
                                M√ºd√ºrl√ºƒü√º olarak hizmete sunulmu≈ütur.
                            </p>
                            <p data-i18n="about.content.p2">
                                ≈ûehir trafiƒüine girmeden kolaylƒ±kla eri≈üilebilen Muratbey G√ºmr√ºk M√ºd√ºrl√ºƒü√º, yeni yapƒ±lanmasƒ±yla 
                                birlikte 220.000 m2 alan √ºzerine kurulmu≈ü olup, 35.000 m¬≤ depo alanƒ±, 4.150 m¬≤ ofis alanƒ± ve 
                                3.000 m¬≤'lik sosyal hizmet alanƒ± ile modern bir teknik altyapƒ±ya sahiptir.
                            </p>
                            <p data-i18n="about.content.p3">
                                GTƒ∞ tarafƒ±ndan son teknolojiyle donatƒ±lmƒ±≈ü bu tesiste G√ºmr√ºk M√ºd√ºrl√ºƒü√º'ne ait birimlerin yanƒ± sƒ±ra, 
                                ba≈üta g√ºmr√ºk m√º≈üavirliƒüi ve lojistik firmalarƒ± olmak √ºzere dƒ±≈ü ticaret ile ili≈ükili kurum, kurulu≈ü, 
                                meslek odalarƒ± ve sivil toplum temsilciliklerinin kullanƒ±mƒ±na sunulmu≈ü 200'e yakƒ±n ofis bulunmaktadƒ±r.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Contact Page -->
            <section id="contactPage" class="page" style="display: none;">
                <div class="dashboard">
                    <div class="card">
                        <h1 data-i18n="contact.title">ƒ∞leti≈üim Bilgileri</h1>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem;">
                            <div>
                                <h3 style="margin-bottom: 1rem;" data-i18n="contact.info.title">Adres ve ƒ∞leti≈üim</h3>
                                <div style="margin-bottom: 1.5rem;">
                                    <div style="display: flex; gap: 1rem; margin-bottom: 0.5rem;">
                                        <span style="font-size: 1.5rem;">üìç</span>
                                        <div>
                                            <h4 data-i18n="contact.info.location">MURATBEY / ƒ∞STANBUL</h4>
                                            <p style="color: var(--text-secondary);">
                                                Muratbey G√ºmr√ºk M√ºd√ºrl√ºƒü√º Tesisleri, Muratbey ‚Äì √áatalca / ƒ∞stanbul
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div style="margin-bottom: 1.5rem;">
                                    <div style="display: flex; gap: 1rem; margin-bottom: 0.5rem;">
                                        <span style="font-size: 1.5rem;">üìû</span>
                                        <div>
                                            <h4 data-i18n="contact.info.phone">Telefon</h4>
                                            <p style="color: var(--text-secondary);">
                                                0212 867 94 00<br>
                                                0212 867 94 04<br>
                                                +90 539 632 65 47
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div style="margin-bottom: 1.5rem;">
                                    <div style="display: flex; gap: 1rem; margin-bottom: 0.5rem;">
                                        <span style="font-size: 1.5rem;">‚úâÔ∏è</span>
                                        <div>
                                            <h4 data-i18n="contact.info.email">E-posta</h4>
                                            <p style="color: var(--text-secondary);">
                                                <a href="mailto:halkali@gtias.com.tr">halkali@gtias.com.tr</a><br>
                                                <a href="mailto:adolen@gtias.com.tr">adolen@gtias.com.tr</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h3 style="margin-bottom: 1rem;" data-i18n="contact.map.title">Konum</h3>
                                <div style="border-radius: 12px; overflow: hidden; height: 300px; background: var(--bg-color);">
                                    <iframe 
                                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3008.3940702935957!2d28.504767376303288!3d41.07955137932056!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14caa418ffffffff%3A0x8537eb98b2380b34!2sMuratbey%20G%C3%BCmr%C3%BCk%20M%C3%BCd%C3%BCrl%C3%BC%C4%9F%C3%BC!5e0!3m2!1str!2str!4v1653380326054!5m2!1str!2str" 
                                        width="100%" 
                                        height="100%" 
                                        style="border:0;" 
                                        allowfullscreen="" 
                                        loading="lazy" 
                                        referrerpolicy="no-referrer-when-downgrade">
                                    </iframe>
                                </div>
                                <a href="https://goo.gl/maps/example" target="_blank" class="btn btn-primary" style="margin-top: 1rem;">
                                    <span data-i18n="contact.map.directions">Yol Tarifi Al</span> ‚Üí
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dashboard Page -->
            <section id="dashboardPage" class="page" style="display: none;">
                <!-- Sidebar -->
                <aside class="sidebar" id="sidebar">
                    <div class="sidebar-header">
                        <input type="text" class="sidebar-search" id="sidebarSearch" placeholder="Ara..." data-i18n-placeholder="sidebar.search">
                    </div>
                    <div class="sidebar-menu" id="sidebarMenu">
                        <div class="sidebar-item active" data-view="overview">
                            <span>üìä</span>
                            <span data-i18n="sidebar.overview">Genel Bakƒ±≈ü</span>
                        </div>
                        <div class="sidebar-item" data-view="offices">
                            <span>üè¢</span>
                            <span data-i18n="sidebar.offices">Ofisler</span>
                        </div>
                        <div class="sidebar-item" data-view="meters">
                            <span>üìè</span>
                            <span data-i18n="sidebar.meters">Saya√ßlar</span>
                        </div>
                        <div class="sidebar-item" data-view="inventory">
                            <span>üì¶</span>
                            <span data-i18n="sidebar.inventory">Envanter</span>
                        </div>
                        <div class="sidebar-item" data-view="reports">
                            <span>üìà</span>
                            <span data-i18n="sidebar.reports">Raporlar</span>
                        </div>
                        <div class="sidebar-item" data-view="users" id="usersMenuItem" style="display: none;">
                            <span>üë•</span>
                            <span data-i18n="sidebar.users">Kullanƒ±cƒ±lar</span>
                        </div>
                        <div class="sidebar-item" data-view="settings">
                            <span>‚öôÔ∏è</span>
                            <span data-i18n="sidebar.settings">Ayarlar</span>
                        </div>
                    </div>
                </aside>

                <!-- Main Content -->
                <div class="main-content" id="mainDashboardContent">
                    <!-- Overview View -->
                    <div id="overviewView" class="view">
                        <div class="dashboard-header">
                            <h1 class="dashboard-title" data-i18n="dashboard.welcome">Ho≈ü Geldiniz</h1>
                            <p class="dashboard-subtitle">
                                <span data-i18n="dashboard.welcomeUser">Merhaba</span>, 
                                <span id="userName">Kullanƒ±cƒ±</span>
                            </p>
                        </div>

                        <!-- Statistics Cards -->
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon primary">üè¢</div>
                                <div class="stat-value" id="totalOffices">0</div>
                                <div class="stat-label" data-i18n="stats.totalOffices">Toplam Ofis</div>
                                <div class="stat-change positive">
                                    <span>‚Üë 5%</span>
                                    <span data-i18n="stats.fromLastMonth">ge√ßen aydan</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon success">‚úì</div>
                                <div class="stat-value" id="activeMeters">0</div>
                                <div class="stat-label" data-i18n="stats.activeMeters">Aktif Saya√ß</div>
                                <div class="stat-change positive">
                                    <span>‚Üë 12%</span>
                                    <span data-i18n="stats.fromLastMonth">ge√ßen aydan</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon warning">‚ö°</div>
                                <div class="stat-value" id="monthlyConsumption">0</div>
                                <div class="stat-label" data-i18n="stats.monthlyConsumption">Aylƒ±k T√ºketim (kWh)</div>
                                <div class="stat-change negative">
                                    <span>‚Üì 3%</span>
                                    <span data-i18n="stats.fromLastMonth">ge√ßen aydan</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon error">üì¶</div>
                                <div class="stat-value" id="totalInventory">0</div>
                                <div class="stat-label" data-i18n="stats.totalInventory">Toplam Envanter</div>
                                <div class="stat-change positive">
                                    <span>‚Üë 8%</span>
                                    <span data-i18n="stats.fromLastMonth">ge√ßen aydan</span>
                                </div>
                            </div>
                        </div>

                        <!-- Charts -->
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3 class="chart-title" data-i18n="charts.consumption">T√ºketim Grafiƒüi</h3>
                                <select class="form-input" style="width: 150px;">
                                    <option data-i18n="charts.lastWeek">Son 7 G√ºn</option>
                                    <option data-i18n="charts.lastMonth">Son 30 G√ºn</option>
                                    <option data-i18n="charts.lastYear">Son 1 Yƒ±l</option>
                                </select>
                            </div>
                            <canvas id="consumptionChart" height="100"></canvas>
                        </div>

                        <!-- Recent Activity -->
                        <div class="activity-log">
                            <h3 style="margin-bottom: 1rem;" data-i18n="activity.title">Son Aktiviteler</h3>
                            <div id="activityList">
                                <!-- Activity items will be populated here -->
                            </div>
                        </div>
                    </div>

                    <!-- Offices View -->
                    <div id="officesView" class="view" style="display: none;">
                        <div class="dashboard-header">
                            <h1 class="dashboard-title" data-i18n="offices.title">Ofis Y√∂netimi</h1>
                            <button class="btn btn-primary" id="addOfficeBtn" data-i18n="offices.addNew">
                                + Yeni Ofis Ekle
                            </button>
                        </div>

                        <div class="card">
                            <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                                <input type="text" class="form-input" id="officeSearch" 
                                    placeholder="Ofis ara..." data-i18n-placeholder="offices.search" style="flex: 1;">
                                <select class="form-input" id="officeFilter" style="width: 200px;">
                                    <option value="" data-i18n="offices.allBlocks">T√ºm Bloklar</option>
                                    <option value="1B">1B Blok</option>
                                    <option value="2B">2B Blok</option>
                                    <option value="3B">3B Blok</option>
                                    <option value="Z">Z Blok</option>
                                </select>
                            </div>

                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th data-i18n="table.officeNo">Ofis No</th>
                                            <th data-i18n="table.companyName">Firma Adƒ±</th>
                                            <th data-i18n="table.electricMeter">Elektrik Saya√ß</th>
                                            <th data-i18n="table.waterMeter">Su Saya√ß</th>
                                            <th data-i18n="table.status">Durum</th>
                                            <th data-i18n="table.actions">ƒ∞≈ülemler</th>
                                        </tr>
                                    </thead>
                                    <tbody id="officesTableBody">
                                        <!-- Office rows will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Meters View -->
                    <div id="metersView" class="view" style="display: none;">
                        <div class="dashboard-header">
                            <h1 class="dashboard-title" data-i18n="meters.title">Saya√ß Takibi</h1>
                        </div>

                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon primary">‚ö°</div>
                                <div class="stat-value" id="totalElectric">0 kWh</div>
                                <div class="stat-label" data-i18n="meters.totalElectric">Toplam Elektrik</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon success">üíß</div>
                                <div class="stat-value" id="totalWater">0 m¬≥</div>
                                <div class="stat-label" data-i18n="meters.totalWater">Toplam Su</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon warning">üî•</div>
                                <div class="stat-value" id="totalGas">0 m¬≥</div>
                                <div class="stat-label" data-i18n="meters.totalGas">Toplam Doƒüalgaz</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon error">‚ö†Ô∏è</div>
                                <div class="stat-value" id="anomalies">0</div>
                                <div class="stat-label" data-i18n="meters.anomalies">Anormal T√ºketim</div>
                            </div>
                        </div>

                        <div class="card">
                            <h3 style="margin-bottom: 1rem;" data-i18n="meters.readings">Saya√ß Okumalarƒ±</h3>
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th data-i18n="table.officeNo">Ofis No</th>
                                            <th data-i18n="table.meterType">Saya√ß Tipi</th>
                                            <th data-i18n="table.lastReading">Son Okuma</th>
                                            <th data-i18n="table.date">Tarih</th>
                                            <th data-i18n="table.consumption">T√ºketim</th>
                                            <th data-i18n="table.actions">ƒ∞≈ülemler</th>
                                        </tr>
                                    </thead>
                                    <tbody id="metersTableBody">
                                        <!-- Meter readings will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Inventory View -->
                    <div id="inventoryView" class="view" style="display: none;">
                        <div class="dashboard-header">
                            <h1 class="dashboard-title" data-i18n="inventory.title">Envanter Y√∂netimi</h1>
                            <div style="display: flex; gap: 1rem;">
                                <button class="btn btn-primary" id="addInventoryBtn" data-i18n="inventory.addNew">
                                    + Yeni √úr√ºn Ekle
                                </button>
                                <button class="btn btn-secondary" id="bulkUploadBtn" data-i18n="inventory.bulkUpload">
                                    üì§ Toplu Y√ºkleme
                                </button>
                            </div>
                        </div>

                        <div class="card">
                            <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                                <input type="text" class="form-input" id="inventorySearch" 
                                    placeholder="√úr√ºn ara..." data-i18n-placeholder="inventory.search" style="flex: 1;">
                                <select class="form-input" id="warehouseFilter" style="width: 200px;">
                                    <option value="" data-i18n="inventory.allWarehouses">T√ºm Depolar</option>
                                    <option value="TEKNIK">Teknik Depo</option>
                                    <option value="ISLETME">ƒ∞≈ületme Depo</option>
                                    <option value="SARI">Sarƒ± Otopark Depo</option>
                                    <option value="YESIL">Ye≈üil Otopark Depo</option>
                                </select>
                                <button class="btn btn-outline" id="exportInventoryBtn" data-i18n="inventory.export">
                                    üìä Excel'e Aktar
                                </button>
                            </div>

                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th data-i18n="table.productName">√úr√ºn Adƒ±</th>
                                            <th data-i18n="table.quantity">Miktar</th>
                                            <th data-i18n="table.unit">Birim</th>
                                            <th data-i18n="table.warehouse">Depo</th>
                                            <th data-i18n="table.lastUpdate">Son G√ºncelleme</th>
                                            <th data-i18n="table.actions">ƒ∞≈ülemler</th>
                                        </tr>
                                    </thead>
                                    <tbody id="inventoryTableBody">
                                        <!-- Inventory items will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Reports View -->
                    <div id="reportsView" class="view" style="display: none;">
                        <div class="dashboard-header">
                            <h1 class="dashboard-title" data-i18n="reports.title">Raporlar</h1>
                        </div>

                        <div class="stats-grid">
                            <div class="card" style="cursor: pointer;" onclick="generateReport('consumption')">
                                <div class="stat-icon primary">üìä</div>
                                <h3 data-i18n="reports.consumption">T√ºketim Raporu</h3>
                                <p data-i18n="reports.consumptionDesc">Aylƒ±k elektrik, su ve doƒüalgaz t√ºketim raporlarƒ±</p>
                            </div>
                            <div class="card" style="cursor: pointer;" onclick="generateReport('inventory')">
                                <div class="stat-icon success">üì¶</div>
                                <h3 data-i18n="reports.inventory">Envanter Raporu</h3>
                                <p data-i18n="reports.inventoryDesc">Depo stok durumu ve hareket raporlarƒ±</p>
                            </div>
                            <div class="card" style="cursor: pointer;" onclick="generateReport('office')">
                                <div class="stat-icon warning">üè¢</div>
                                <h3 data-i18n="reports.office">Ofis Raporu</h3>
                                <p data-i18n="reports.officeDesc">Ofis bazlƒ± detaylƒ± t√ºketim analizleri</p>
                            </div>
                            <div class="card" style="cursor: pointer;" onclick="generateReport('activity')">
                                <div class="stat-icon error">üìù</div>
                                <h3 data-i18n="reports.activity">Aktivite Raporu</h3>
                                <p data-i18n="reports.activityDesc">Sistem kullanƒ±m ve aktivite loglarƒ±</p>
                            </div>
                        </div>
                    </div>

                    <!-- Users View (Admin Only) -->
                    <div id="usersView" class="view" style="display: none;">
                        <div class="dashboard-header">
                            <h1 class="dashboard-title" data-i18n="users.title">Kullanƒ±cƒ± Y√∂netimi</h1>
                            <button class="btn btn-primary" id="addUserBtn" data-i18n="users.addNew">
                                + Yeni Kullanƒ±cƒ± Ekle
                            </button>
                        </div>

                        <div class="card">
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th data-i18n="table.username">Kullanƒ±cƒ± Adƒ±</th>
                                            <th data-i18n="table.fullName">Ad Soyad</th>
                                            <th data-i18n="table.role">Rol</th>
                                            <th data-i18n="table.lastLogin">Son Giri≈ü</th>
                                            <th data-i18n="table.status">Durum</th>
                                            <th data-i18n="table.actions">ƒ∞≈ülemler</th>
                                        </tr>
                                    </thead>
                                    <tbody id="usersTableBody">
                                        <!-- User rows will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Settings View -->
                    <div id="settingsView" class="view" style="display: none;">
                        <div class="dashboard-header">
                            <h1 class="dashboard-title" data-i18n="settings.title">Ayarlar</h1>
                        </div>

                        <div class="card">
                            <h3 style="margin-bottom: 1.5rem;" data-i18n="settings.general">Genel Ayarlar</h3>
                            
                            <div class="form-group">
                                <label class="form-label" data-i18n="settings.notifications">Bildirimler</label>
                                <label class="switch">
                                    <input type="checkbox" id="notificationsToggle" checked>
                                    <span class="switch-slider"></span>
                                </label>
                            </div>

                            <div class="form-group">
                                <label class="form-label" data-i18n="settings.autoBackup">Otomatik Yedekleme</label>
                                <label class="switch">
                                    <input type="checkbox" id="autoBackupToggle" checked>
                                    <span class="switch-slider"></span>
                                </label>
                            </div>

                            <div class="form-group">
                                <label class="form-label" data-i18n="settings.language">Dil</label>
                                <select class="form-input" id="languageSelect">
                                    <option value="tr">T√ºrk√ße</option>
                                    <option value="en">English</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label" data-i18n="settings.theme">Tema</label>
                                <select class="form-input" id="themeSelect">
                                    <option value="light" data-i18n="settings.lightTheme">A√ßƒ±k Tema</option>
                                    <option value="dark" data-i18n="settings.darkTheme">Koyu Tema</option>
                                    <option value="auto" data-i18n="settings.autoTheme">Otomatik</option>
                                </select>
                            </div>

                            <button class="btn btn-primary" id="saveSettingsBtn" data-i18n="settings.save">
                                Ayarlarƒ± Kaydet
                            </button>
                        </div>

                        <div class="card" style="margin-top: 2rem;">
                            <h3 style="margin-bottom: 1.5rem;" data-i18n="settings.backup">Yedekleme ve Geri Y√ºkleme</h3>
                            
                            <div style="display: flex; gap: 1rem;">
                                <button class="btn btn-secondary" id="backupBtn" data-i18n="settings.createBackup">
                                    üíæ Yedek Olu≈ütur
                                </button>
                                <button class="btn btn-outline" id="restoreBtn" data-i18n="settings.restore">
                                    üì• Geri Y√ºkle
                                </button>
                            </div>

                            <div class="activity-log" style="margin-top: 2rem;">
                                <h4 data-i18n="settings.backupHistory">Yedekleme Ge√ßmi≈üi</h4>
                                <div id="backupHistory">
                                    <!-- Backup history will be populated here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 data-i18n="footer.about">Hakkƒ±mƒ±zda</h3>
                    <p data-i18n="footer.aboutText">
                        GTƒ∞ - G√ºmr√ºk ve Turizm ƒ∞≈ületmeleri, T√ºrkiye'nin √∂nde gelen g√ºmr√ºk tesisleri 
                        y√∂netim ≈üirketidir.
                    </p>
                </div>
                <div class="footer-section">
                    <h3 data-i18n="footer.contact">ƒ∞leti≈üim</h3>
                    <p>
                        üìç Muratbey, √áatalca / ƒ∞stanbul<br>
                        üìû 0212 867 94 00<br>
                        ‚úâÔ∏è info@gtias.com.tr
                    </p>
                </div>
                <div class="footer-section">
                    <h3 data-i18n="footer.quickLinks">Hƒ±zlƒ± Linkler</h3>
                    <a href="#" data-i18n="footer.privacy">Gizlilik Politikasƒ±</a><br>
                    <a href="#" data-i18n="footer.terms">Kullanƒ±m ≈ûartlarƒ±</a><br>
                    <a href="#" data-i18n="footer.support">Destek</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p data-i18n="footer.copyright">¬© 2025 GTƒ∞ - T√ºm Haklarƒ± Saklƒ±dƒ±r. | Developed by ADTech</p>
            </div>
        </footer>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" data-i18n="login.title">Sisteme Giri≈ü</h2>
                <button class="modal-close" onclick="closeModal('loginModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label" for="username" data-i18n="login.username">Kullanƒ±cƒ± Adƒ±</label>
                        <input type="text" class="form-input" id="username" required>
                        <span class="form-error" id="usernameError"></span>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="password" data-i18n="login.password">≈ûifre</label>
                        <input type="password" class="form-input" id="password" required>
                        <span class="form-error" id="passwordError"></span>
                    </div>
                    <div class="form-group">
                        <label class="switch">
                            <input type="checkbox" id="rememberMe">
                            <span class="switch-slider"></span>
                        </label>
                        <span style="margin-left: 0.5rem;" data-i18n="login.rememberMe">Beni Hatƒ±rla</span>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeModal('loginModal')" data-i18n="common.cancel">ƒ∞ptal</button>
                <button class="btn btn-primary" onclick="handleLogin()" data-i18n="login.submit">Giri≈ü Yap</button>
            </div>
        </div>
    </div>

    <!-- Add/Edit Office Modal -->
    <div class="modal" id="officeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="officeModalTitle" data-i18n="office.addTitle">Yeni Ofis Ekle</h2>
                <button class="modal-close" onclick="closeModal('officeModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="officeForm">
                    <div class="form-group">
                        <label class="form-label" for="officeNo" data-i18n="office.officeNo">Ofis No</label>
                        <input type="text" class="form-input" id="officeNo" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="companyName" data-i18n="office.companyName">Firma Adƒ±</label>
                        <input type="text" class="form-input" id="companyName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="electricMeterNo" data-i18n="office.electricMeterNo">Elektrik Saya√ß No</label>
                        <input type="text" class="form-input" id="electricMeterNo">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="waterMeterNo" data-i18n="office.waterMeterNo">Su Saya√ß No</label>
                        <input type="text" class="form-input" id="waterMeterNo">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeModal('officeModal')" data-i18n="common.cancel">ƒ∞ptal</button>
                <button class="btn btn-primary" onclick="saveOffice()" data-i18n="common.save">Kaydet</button>
            </div>
        </div>
    </div>

    <!-- Add/Edit User Modal -->
    <div class="modal" id="userModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="userModalTitle" data-i18n="user.addTitle">Yeni Kullanƒ±cƒ± Ekle</h2>
                <button class="modal-close" onclick="closeModal('userModal')">√ó</button>
            </div>
            <div class="modal-body">
                <form id="userForm">
                    <div class="form-group">
                        <label class="form-label" for="userUsername" data-i18n="user.username">Kullanƒ±cƒ± Adƒ±</label>
                        <input type="text" class="form-input" id="userUsername" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="userFullName" data-i18n="user.fullName">Ad Soyad</label>
                        <input type="text" class="form-input" id="userFullName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="userPassword" data-i18n="user.password">≈ûifre</label>
                        <input type="password" class="form-input" id="userPassword">
                        <small style="color: var(--text-secondary);" data-i18n="user.passwordHint">
                            Bo≈ü bƒ±rakƒ±rsanƒ±z mevcut ≈üifre korunur
                        </small>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="userRole" data-i18n="user.role">Rol</label>
                        <select class="form-input" id="userRole" required>
                            <option value="teknik" data-i18n="user.roleTechnician">Teknik Personel</option>
                            <option value="depo" data-i18n="user.roleWarehouse">Depo Personeli</option>
                            <option value="admin" data-i18n="user.roleAdmin">Y√∂netici</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeModal('userModal')" data-i18n="common.cancel">ƒ∞ptal</button>
                <button class="btn btn-primary" onclick="saveUser()" data-i18n="common.save">Kaydet</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Wait for external scripts to load
        window.addEventListener('load', function() {
            // Check if Chart.js is loaded
            if (typeof Chart === 'undefined') {
                console.warn('Chart.js not loaded, loading fallback...');
                // Create a simple fallback
                window.Chart = function() { return { destroy: function() {} }; };
            }
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script>
        // Application State
        const AppState = {
            data: {
                currentUser: null,
                currentLang: 'tr',
                currentTheme: 'light',
                offices: [],
                inventory: [],
                users: [],
                activities: [],
                notifications: true,
                autoBackup: true
            },
            
            subscribers: [],
            
            setState(newState) {
                this.data = { ...this.data, ...newState };
                this.notify();
                this.saveToLocalStorage();
            },
            
            subscribe(callback) {
                this.subscribers.push(callback);
            },
            
            notify() {
                this.subscribers.forEach(cb => cb(this.data));
            },
            
            saveToLocalStorage() {
                try {
                    localStorage.setItem('appState', JSON.stringify(this.data));
                } catch (e) {
                    console.warn('LocalStorage save failed:', e);
                }
            },
            
            loadFromLocalStorage() {
                try {
                    const saved = localStorage.getItem('appState');
                    if (saved) {
                        const parsedData = JSON.parse(saved);
                        // Only load valid data
                        if (parsedData && typeof parsedData === 'object') {
                            this.data = { ...this.data, ...parsedData };
                        }
                    }
                } catch (e) {
                    console.warn('LocalStorage load failed:', e);
                    // Continue with default data
                }
            }
        };

        // Translations
        const translations = {
            tr: {
                'app.title': 'Muratbey',
                'app.subtitle': 'Ofis Saya√ß-Depo Envanter Takip Sistemi',
                'nav.home': 'Ana Sayfa',
                'nav.about': 'Hakkƒ±mƒ±zda',
                'nav.contact': 'ƒ∞leti≈üim',
                'nav.login': 'Giri≈ü Yap',
                'hero.title': 'Ofis Saya√ß-Depo Envanter Takip Sistemi',
                'hero.subtitle': 'GTƒ∞\'nin geli≈ütirdiƒüi bu platform, ofislerdeki elektrik, su ve doƒüalgaz saya√ßlarƒ±nƒ±n yanƒ± sƒ±ra depo envanterlerinin de takibini kolayla≈ütƒ±rƒ±r.',
                'hero.loginBtn': 'Sisteme Giri≈ü Yap',
                'hero.learnMore': 'Daha Fazla Bilgi',
                'features.title': '√ñzellikler',
                'features.realtime.title': 'Ger√ßek Zamanlƒ± Takip',
                'features.realtime.desc': 'Saya√ß deƒüerlerini anlƒ±k olarak g√∂r√ºnt√ºleyin ve kaydedin',
                'features.analytics.title': 'Detaylƒ± Analizler',
                'features.analytics.desc': 'T√ºketim trendlerini grafiklerle analiz edin',
                'features.alerts.title': 'Akƒ±llƒ± Uyarƒ±lar',
                'features.alerts.desc': 'Anormal t√ºketimler i√ßin otomatik bildirimler alƒ±n',
                'features.inventory.title': 'Envanter Y√∂netimi',
                'features.inventory.desc': 'Depo stoklarƒ±nƒ± kolayca takip edin ve y√∂netin',
                'login.title': 'Sisteme Giri≈ü',
                'login.username': 'Kullanƒ±cƒ± Adƒ±',
                'login.password': '≈ûifre',
                'login.rememberMe': 'Beni Hatƒ±rla',
                'login.submit': 'Giri≈ü Yap',
                'common.cancel': 'ƒ∞ptal',
                'common.save': 'Kaydet',
                'common.delete': 'Sil',
                'common.edit': 'D√ºzenle',
                'common.view': 'G√∂r√ºnt√ºle',
                'dashboard.welcome': 'Ho≈ü Geldiniz',
                'dashboard.welcomeUser': 'Merhaba',
                'sidebar.overview': 'Genel Bakƒ±≈ü',
                'sidebar.offices': 'Ofisler',
                'sidebar.meters': 'Saya√ßlar',
                'sidebar.inventory': 'Envanter',
                'sidebar.reports': 'Raporlar',
                'sidebar.users': 'Kullanƒ±cƒ±lar',
                'sidebar.settings': 'Ayarlar',
                'sidebar.search': 'Ara...',
                'stats.totalOffices': 'Toplam Ofis',
                'stats.activeMeters': 'Aktif Saya√ß',
                'stats.monthlyConsumption': 'Aylƒ±k T√ºketim (kWh)',
                'stats.totalInventory': 'Toplam Envanter',
                'stats.fromLastMonth': 'ge√ßen aydan',
                'charts.consumption': 'T√ºketim Grafiƒüi',
                'charts.lastWeek': 'Son 7 G√ºn',
                'charts.lastMonth': 'Son 30 G√ºn',
                'charts.lastYear': 'Son 1 Yƒ±l',
                'activity.title': 'Son Aktiviteler',
                'footer.about': 'Hakkƒ±mƒ±zda',
                'footer.aboutText': 'GTƒ∞ - G√ºmr√ºk ve Turizm ƒ∞≈ületmeleri, T√ºrkiye\'nin √∂nde gelen g√ºmr√ºk tesisleri y√∂netim ≈üirketidir.',
                'footer.contact': 'ƒ∞leti≈üim',
                'footer.quickLinks': 'Hƒ±zlƒ± Linkler',
                'footer.privacy': 'Gizlilik Politikasƒ±',
                'footer.terms': 'Kullanƒ±m ≈ûartlarƒ±',
                'footer.support': 'Destek',
                'footer.copyright': '¬© 2025 GTƒ∞ - T√ºm Haklarƒ± Saklƒ±dƒ±r. | Developed by ADTech'
            },
            en: {
                'app.title': 'Muratbey',
                'app.subtitle': 'Office Meter-Warehouse Inventory Tracking System',
                'nav.home': 'Home',
                'nav.about': 'About',
                'nav.contact': 'Contact',
                'nav.login': 'Login',
                'hero.title': 'Office Meter-Warehouse Inventory Tracking System',
                'hero.subtitle': 'This platform developed by GTI facilitates tracking of electricity, water and natural gas meters in offices as well as warehouse inventories.',
                'hero.loginBtn': 'Login to System',
                'hero.learnMore': 'Learn More',
                'features.title': 'Features',
                'features.realtime.title': 'Real-Time Tracking',
                'features.realtime.desc': 'View and save meter values instantly',
                'features.analytics.title': 'Detailed Analytics',
                'features.analytics.desc': 'Analyze consumption trends with charts',
                'features.alerts.title': 'Smart Alerts',
                'features.alerts.desc': 'Get automatic notifications for abnormal consumption',
                'features.inventory.title': 'Inventory Management',
                'features.inventory.desc': 'Easily track and manage warehouse stocks',
                'login.title': 'System Login',
                'login.username': 'Username',
                'login.password': 'Password',
                'login.rememberMe': 'Remember Me',
                'login.submit': 'Login',
                'common.cancel': 'Cancel',
                'common.save': 'Save',
                'common.delete': 'Delete',
                'common.edit': 'Edit',
                'common.view': 'View',
                'dashboard.welcome': 'Welcome',
                'dashboard.welcomeUser': 'Hello',
                'sidebar.overview': 'Overview',
                'sidebar.offices': 'Offices',
                'sidebar.meters': 'Meters',
                'sidebar.inventory': 'Inventory',
                'sidebar.reports': 'Reports',
                'sidebar.users': 'Users',
                'sidebar.settings': 'Settings',
                'sidebar.search': 'Search...',
                'stats.totalOffices': 'Total Offices',
                'stats.activeMeters': 'Active Meters',
                'stats.monthlyConsumption': 'Monthly Consumption (kWh)',
                'stats.totalInventory': 'Total Inventory',
                'stats.fromLastMonth': 'from last month',
                'charts.consumption': 'Consumption Chart',
                'charts.lastWeek': 'Last 7 Days',
                'charts.lastMonth': 'Last 30 Days',
                'charts.lastYear': 'Last 1 Year',
                'activity.title': 'Recent Activities',
                'footer.about': 'About',
                'footer.aboutText': 'GTI - Customs and Tourism Operations, Turkey\'s leading customs facilities management company.',
                'footer.contact': 'Contact',
                'footer.quickLinks': 'Quick Links',
                'footer.privacy': 'Privacy Policy',
                'footer.terms': 'Terms of Use',
                'footer.support': 'Support',
                'footer.copyright': ' 2025 GTI - All Rights Reserved. | Developed by ADTech'
            }
        };

        // Utility Functions
        function $(selector) {
            return document.querySelector(selector);
        }

        function $$(selector) {
            return document.querySelectorAll(selector);
        }
        
        // Safe element operations
        function safeSetText(selector, text) {
            const el = $(selector);
            if (el) el.textContent = text;
        }
        
        function safeSetValue(selector, value) {
            const el = $(selector);
            if (el) el.value = value;
        }

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        function formatDate(date) {
            return new Date(date).toLocaleDateString(AppState.data.currentLang);
        }

        function formatDateTime(date) {
            return new Date(date).toLocaleString(AppState.data.currentLang);
        }

        function showToast(message, type = 'success') {
            const toastContainer = $('#toastContainer');
            if (!toastContainer) return;
            
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <span>${type === 'success' ? '‚úì' : type === 'error' ? '‚úï' : '‚ö†Ô∏è'}</span>
                <span>${message}</span>
            `;
            
            toastContainer.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        function showModal(modalId) {
            const modal = $(`#${modalId}`);
            if (modal) modal.classList.add('show');
        }

        function closeModal(modalId) {
            const modal = $(`#${modalId}`);
            if (modal) modal.classList.remove('show');
        }

        function hashPassword(password) {
            // Simple hash for demo - use bcrypt in production
            return btoa(password);
        }

        function verifyPassword(password, hash) {
            return hashPassword(password) === hash;
        }

        function sanitizeInput(input) {
            const div = document.createElement('div');
            div.textContent = input;
            return div.innerHTML;
        }

        // Activity Logger
        const ActivityLogger = {
            log(action, details) {
                const activity = {
                    id: Date.now(),
                    timestamp: new Date().toISOString(),
                    user: AppState.data.currentUser?.username,
                    action: action,
                    details: details
                };
                
                const activities = [...AppState.data.activities, activity];
                
                // Keep only last 100 activities
                if (activities.length > 100) {
                    activities.splice(0, activities.length - 100);
                }
                
                AppState.setState({ activities });
                
                // Update activity display if visible
                if ($('#activityList')) {
                    this.renderActivities();
                }
            },
            
            renderActivities() {
                const container = $('#activityList');
                if (!container) return;
                
                container.innerHTML = AppState.data.activities
                    .slice(-5)
                    .reverse()
                    .map(activity => `
                        <div class="activity-item">
                            <div class="activity-icon">
                                ${this.getActivityIcon(activity.action)}
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">${activity.action}</div>
                                <div class="activity-time">${formatDateTime(activity.timestamp)}</div>
                            </div>
                        </div>
                    `).join('');
            },
            
            getActivityIcon(action) {
                const icons = {
                    'Giri≈ü': 'üîê',
                    '√áƒ±kƒ±≈ü': 'üö™',
                    'Ekleme': '‚ûï',
                    'G√ºncelleme': '‚úèÔ∏è',
                    'Silme': 'üóëÔ∏è',
                    'Yedekleme': 'üíæ',
                    'Rapor': 'üìä'
                };
                return icons[action] || 'üìù';
            }
        };

        // Translation System
        function t(key) {
            return translations[AppState.data.currentLang][key] || key;
        }

        function updateTranslations() {
            $$('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                el.textContent = t(key);
            });
            
            $$('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                el.placeholder = t(key);
            });
        }

        function setLanguage(lang) {
            AppState.setState({ currentLang: lang });
            const currentLangEl = $('#currentLang');
            if (currentLangEl) currentLangEl.textContent = lang.toUpperCase();
            updateTranslations();
            
            // Update HTML lang attribute
            document.documentElement.lang = lang;
        }

        // Theme System
        function setTheme(theme) {
            if (theme === 'auto') {
                const hour = new Date().getHours();
                theme = (hour >= 6 && hour < 18) ? 'light' : 'dark';
            }
            
            document.documentElement.setAttribute('data-theme', theme);
            AppState.setState({ currentTheme: theme });
            
            // Update theme icon
            const themeIcon = $('#themeIcon');
            if (themeIcon) themeIcon.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        }

        // Auto Backup System
        let backupInterval = null;

        function startAutoBackup() {
            if (AppState.data.autoBackup && !backupInterval) {
                backupInterval = setInterval(() => {
                    createBackup(true);
                }, 24 * 60 * 60 * 1000); // Every 24 hours
            }
        }

        function stopAutoBackup() {
            if (backupInterval) {
                clearInterval(backupInterval);
            }
        }

        function createBackup(auto = false) {
            const backupData = {
                version: '1.0',
                timestamp: new Date().toISOString(),
                data: {
                    offices: AppState.data.offices,
                    inventory: AppState.data.inventory,
                    users: AppState.data.users,
                    activities: AppState.data.activities
                }
            };
            
            const blob = new Blob([JSON.stringify(backupData, null, 2)], 
                { type: 'application/json' });
            
            if (!auto) {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `backup_${new Date().toISOString().split('T')[0]}.json`;
                a.click();
                URL.revokeObjectURL(url);
                
                showToast('Yedekleme ba≈üarƒ±yla olu≈üturuldu', 'success');
            }
            
            ActivityLogger.log('Yedekleme', auto ? 'Otomatik' : 'Manuel');
        }

        // Initialize App
        function initializeApp() {
            try {
                // Load saved state
                AppState.loadFromLocalStorage();
                
                // Apply saved preferences
                setTheme(AppState.data.currentTheme);
                setLanguage(AppState.data.currentLang);
                
                // Initialize data if not exists
                if (AppState.data.offices.length === 0) {
                    initializeOffices();
                }
                
                if (AppState.data.users.length === 0) {
                    initializeUsers();
                }
                
                if (AppState.data.inventory.length === 0) {
                    initializeInventory();
                }
                
                // Setup event listeners
                setupEventListeners();
                
                // Start auto backup
                startAutoBackup();
                
                // Request notification permission
                if ("Notification" in window && Notification.permission === "default") {
                    Notification.requestPermission();
                }
            } catch (error) {
                console.error('Initialization error:', error);
            } finally {
                // Always hide loading screen
                setTimeout(() => {
                    const loadingScreen = document.getElementById('loadingScreen');
                    if (loadingScreen) {
                        loadingScreen.style.opacity = '0';
                        setTimeout(() => {
                            loadingScreen.style.display = 'none';
                        }, 300);
                    }
                }, 500);
            }
        }

        // Initialize Default Data
        function initializeUsers() {
            const defaultUsers = [
                {
                    username: 'admin',
                    password: hashPassword('admin123'),
                    name: 'Admin Kullanƒ±cƒ±',
                    role: 'admin',
                    lastLogin: null,
                    active: true
                },
                {
                    username: 'teknik',
                    password: hashPassword('teknik123'),
                    name: 'Teknik Personel',
                    role: 'teknik',
                    lastLogin: null,
                    active: true
                },
                {
                    username: 'depo',
                    password: hashPassword('depo123'),
                    name: 'Depo Personeli',
                    role: 'depo',
                    lastLogin: null,
                    active: true
                }
            ];
            
            AppState.setState({ users: defaultUsers });
        }

        function initializeOffices() {
            const offices = [
                // 1B Blok
                { id: "1", office_no: "1B-21", name: "Halit Demirkan", 
                  electric: { meter_no: "39296823", last_reading: 0 },
                  water: { meter_no: "5185306", last_reading: 0 },
                  history: []
                },
                { id: "2", office_no: "1B-20", name: "His G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297205", last_reading: 0 },
                  water: { meter_no: "5185291", last_reading: 0 },
                  history: []
                },
                { id: "3", office_no: "1B-19", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185285", last_reading: 0 },
                  history: []
                },
                { id: "4", office_no: "1B-18", name: "Narin G√ºmr√ºk M√º≈üavirliƒüi", 
                  electric: { meter_no: "39296915", last_reading: 0 },
                  water: { meter_no: "5185331", last_reading: 0 },
                  history: []
                },
                { id: "5", office_no: "1B-17", name: "OMN G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296908", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "6", office_no: "1B-16", name: "Arion G√ºmr√ºkleme LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296836", last_reading: 0 },
                  water: { meter_no: "5185369", last_reading: 0 },
                  history: []
                },
                { id: "7", office_no: "1B-15", name: "DDP G√ºmr√ºk M√º≈üavirliƒüi", 
                  electric: { meter_no: "39296267", last_reading: 0 },
                  water: { meter_no: "5185349", last_reading: 0 },
                  history: []
                },
                { id: "8", office_no: "1B-14", name: "Erben G√ºmr√ºk M√º≈üavirliƒüi Ltd. ≈ûti.", 
                  electric: { meter_no: "39297028", last_reading: 0 },
                  water: { meter_no: "5185342", last_reading: 0 },
                  history: []
                },
                { id: "9", office_no: "1B-13", name: "Anka Dia G√ºmr√ºk M√º≈üavirliƒüi A.≈ü", 
                  electric: { meter_no: "39296753", last_reading: 0 },
                  water: { meter_no: "5185367", last_reading: 0 },
                  history: []
                },
                { id: "10", office_no: "1B-12", name: "ƒ∞mer G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297212", last_reading: 0 },
                  water: { meter_no: "5185280", last_reading: 0 },
                  history: []
                },
                { id: "11", office_no: "1B-11", name: "", 
                  electric: { meter_no: "39297070", last_reading: 0 },
                  water: { meter_no: "5185329", last_reading: 0 },
                  history: []
                },
                { id: "12", office_no: "1B-10", name: "ƒ∞GT G√ºmr√ºk M√º≈ü.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297011", last_reading: 0 },
                  water: { meter_no: "5185259", last_reading: 0 },
                  history: []
                },
                { id: "13", office_no: "1B-09", name: "Se√ßkin G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297109", last_reading: 0 },
                  water: { meter_no: "5185366", last_reading: 0 },
                  history: []
                },
                { id: "14", office_no: "1B-08", name: "Peyi√ß Transport Dƒ±≈ü Tic. LTD.≈ûTƒ∞. (TAH)", 
                  electric: { meter_no: "39296844", last_reading: 0 },
                  water: { meter_no: "5185252", last_reading: 0 },
                  history: []
                },
                { id: "15", office_no: "1B-07", name: "H√ºseyin Bayram", 
                  electric: { meter_no: "39297168", last_reading: 0 },
                  water: { meter_no: "5185299", last_reading: 0 },
                  history: []
                },
                { id: "16", office_no: "1B-06", name: "Hizmet G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297104", last_reading: 0 },
                  water: { meter_no: "5185394", last_reading: 0 },
                  history: []
                },
                { id: "17", office_no: "1B-05", name: "Tan Group Lojistik LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297034", last_reading: 0 },
                  water: { meter_no: "16323436", last_reading: 0 },
                  history: []
                },
                { id: "18", office_no: "1B-04", name: "Barsan Global Lojistik A.≈û.", 
                  electric: { meter_no: "39296811", last_reading: 0 },
                  water: { meter_no: "16328443", last_reading: 0 },
                  history: []
                },
                { id: "19", office_no: "1B-03", name: "Evolog Nakliyat Loj.Hiz.Tic.Ltd.≈ûti.", 
                  electric: { meter_no: "39297172", last_reading: 0 },
                  water: { meter_no: "5185386", last_reading: 0 },
                  history: []
                },
                { id: "20", office_no: "1B-02", name: "√únsped G√ºmr√ºk M√º≈üavirliƒüi ve Loj. Hiz. A.≈û.", 
                  electric: { meter_no: "39297118", last_reading: 0 },
                  water: { meter_no: "1815964", last_reading: 0 },
                  history: []
                },
                { id: "21", office_no: "1B-01", name: "", 
                  electric: { meter_no: "39296999", last_reading: 0 },
                  water: { meter_no: "5185362", last_reading: 0 },
                  history: []
                },
                
                // 2B Blok
                { id: "22", office_no: "2B-24", name: "Sertrans Uluslararasƒ± Nakliyat Tic. A.≈û.", 
                  electric: { meter_no: "39296878", last_reading: 0 },
                  water: { meter_no: "5185271", last_reading: 0 },
                  history: []
                },
                { id: "23", office_no: "2B-23", name: "G√ºzel Lojistik/√ñmer G√ºzel", 
                  electric: { meter_no: "39297020", last_reading: 0 },
                  water: { meter_no: "5185384", last_reading: 0 },
                  history: []
                },
                { id: "24", office_no: "2B-22", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185380", last_reading: 0 },
                  history: []
                },
                { id: "25", office_no: "2B-21", name: "Devnak Nakliyat Tur. ƒ∞√ß ve Dƒ±≈ü Tic. A.≈û.", 
                  electric: { meter_no: "39297181", last_reading: 0 },
                  water: { meter_no: "5185397", last_reading: 0 },
                  history: []
                },
                { id: "26", office_no: "2B-20", name: "Geli≈üim Ulus.Loj.Dƒ±≈ü Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297078", last_reading: 0 },
                  water: { meter_no: "5185368", last_reading: 0 },
                  history: []
                },
                { id: "27", office_no: "2B-19", name: "Ulus G√ºmr√ºk M√º≈üavirliƒüi Ltd. ≈ûti.", 
                  electric: { meter_no: "39297015", last_reading: 0 },
                  water: { meter_no: "5185260", last_reading: 0 },
                  history: []
                },
                { id: "28", office_no: "2B-18", name: "Ekol G√ºmr√ºk M√º≈üavirliƒüi A.≈û.", 
                  electric: { meter_no: "39297052", last_reading: 0 },
                  water: { meter_no: "5185279", last_reading: 0 },
                  history: []
                },
                { id: "29", office_no: "2B-17", name: "", 
                  electric: { meter_no: "39297157", last_reading: 0 },
                  water: { meter_no: "5185437", last_reading: 0 },
                  history: []
                },
                { id: "30", office_no: "2B-16", name: "", 
                  electric: { meter_no: "39297152", last_reading: 0 },
                  water: { meter_no: "5185450", last_reading: 0 },
                  history: []
                },
                { id: "31", office_no: "2B-15", name: "Oƒüuz G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296750", last_reading: 0 },
                  water: { meter_no: "5185287", last_reading: 0 },
                  history: []
                },
                { id: "32", office_no: "2B-14", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185387", last_reading: 0 },
                  history: []
                },
                { id: "33", office_no: "2B-13", name: "", 
                  electric: { meter_no: "39296802", last_reading: 0 },
                  water: { meter_no: "5185292", last_reading: 0 },
                  history: []
                },
                { id: "34", office_no: "2B-12", name: "", 
                  electric: { meter_no: "39297175", last_reading: 0 },
                  water: { meter_no: "5185390", last_reading: 0 },
                  history: []
                },
                { id: "35", office_no: "2B-11", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185284", last_reading: 0 },
                  history: []
                },
                { id: "36", office_no: "2B-10", name: "Magna G√ºmr√ºk M√º≈üavirliƒüi Dƒ±≈ü Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297059", last_reading: 0 },
                  water: { meter_no: "5185393", last_reading: 0 },
                  history: []
                },
                { id: "37", office_no: "2B-09", name: "Mekar G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297153", last_reading: 0 },
                  water: { meter_no: "5185413", last_reading: 0 },
                  history: []
                },
                { id: "38", office_no: "2B-08", name: "DCS Dijital G√ºmr√ºk Hizmetleri A.≈û.", 
                  electric: { meter_no: "39296783", last_reading: 0 },
                  water: { meter_no: "8846564", last_reading: 0 },
                  history: []
                },
                { id: "39", office_no: "2B-07", name: "ƒ∞stanbul Ticaret Odasƒ±", 
                  electric: { meter_no: "52636359", last_reading: 0 },
                  water: { meter_no: "5185268", last_reading: 0 },
                  history: []
                },
                
                // 3B Blok
                { id: "40", office_no: "3B-15", name: "T√úRK STANDARDLARI ENSTƒ∞T√úS√ú", 
                  electric: { meter_no: "39296840", last_reading: 0 },
                  water: { meter_no: "5185307", last_reading: 0 },
                  history: []
                },
                { id: "41", office_no: "3B-14", name: "T√úRK STANDARDLARI ENSTƒ∞T√úS√ú", 
                  electric: { meter_no: "39297169", last_reading: 0 },
                  water: { meter_no: "5185277", last_reading: 0 },
                  history: []
                },
                { id: "42", office_no: "3B-13", name: "T√úRK STANDARDLARI ENSTƒ∞T√úS√ú", 
                  electric: { meter_no: "39296792", last_reading: 0 },
                  water: { meter_no: "5185278", last_reading: 0 },
                  history: []
                },
                { id: "43", office_no: "3B-12", name: "T√úRK STANDARDLARI ENSTƒ∞T√úS√ú", 
                  electric: { meter_no: "39296831", last_reading: 0 },
                  water: { meter_no: "5185258", last_reading: 0 },
                  history: []
                },
                { id: "44", office_no: "3B-11", name: "T√úRK STANDARDLARI ENSTƒ∞T√úS√ú", 
                  electric: { meter_no: "39296998", last_reading: 0 },
                  water: { meter_no: "5185403", last_reading: 0 },
                  history: []
                },
                { id: "45", office_no: "3B-10", name: "T√úRK STANDARDLARI ENSTƒ∞T√úS√ú", 
                  electric: { meter_no: "39296856", last_reading: 0 },
                  water: { meter_no: "5185440", last_reading: 0 },
                  history: []
                },
                { id: "46", office_no: "3B-09", name: "T√úRK STANDARDLARI ENSTƒ∞T√úS√ú", 
                  electric: { meter_no: "39267079", last_reading: 0 },
                  water: { meter_no: "5185407", last_reading: 0 },
                  history: []
                },
                { id: "47", office_no: "3B-08", name: "T√úRK STANDARDLARI ENSTƒ∞T√úS√ú", 
                  electric: { meter_no: "39297062", last_reading: 0 },
                  water: { meter_no: "5185319", last_reading: 0 },
                  history: []
                },
                { id: "48", office_no: "3B-07", name: "T√úRK STANDARDLARI ENSTƒ∞T√úS√ú", 
                  electric: { meter_no: "39297102", last_reading: 0 },
                  water: { meter_no: "5185385", last_reading: 0 },
                  history: []
                },
                { id: "49", office_no: "3B-06", name: "T√úRK STANDARDLARI ENSTƒ∞T√úS√ú", 
                  electric: { meter_no: "39297185", last_reading: 0 },
                  water: { meter_no: "5185345", last_reading: 0 },
                  history: []
                },
                { id: "50", office_no: "3B-05", name: "T√úRK STANDARDLARI ENSTƒ∞T√úS√ú", 
                  electric: { meter_no: "39297149", last_reading: 0 },
                  water: { meter_no: "5185320", last_reading: 0 },
                  history: []
                },
                { id: "51", office_no: "3B-04", name: "T√úRK STANDARDLARI ENSTƒ∞T√úS√ú", 
                  electric: { meter_no: "39297204", last_reading: 0 },
                  water: { meter_no: "8846455", last_reading: 0 },
                  history: []
                },
                { id: "52", office_no: "3B-02", name: "DMS Market√ßilik A.≈û.", 
                  electric: { meter_no: "73262830", last_reading: 0 },
                  water: { meter_no: "1815963", last_reading: 0 },
                  history: []
                },
                { id: "53", office_no: "3B-01", name: "T√ºlay TA≈û/Yemekhane", 
                  electric: { meter_no: "73261635", last_reading: 0 },
                  water: { meter_no: "2365633", last_reading: 0 },
                  history: []
                },
                
                // Z Blok
                { id: "54", office_no: "Z-63", name: "Nova Grup M√º≈üavirlik LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297154", last_reading: 0 },
                  water: { meter_no: "5185406", last_reading: 0 },
                  history: []
                },
                { id: "55", office_no: "Z-62", name: "Star Nakliyat/Aydƒ±n Aktimur", 
                  electric: { meter_no: "39297190", last_reading: 0 },
                  water: { meter_no: "5185334", last_reading: 0 },
                  history: []
                },
                { id: "56", office_no: "Z-61", name: "√áaƒüberk Loj. Paz. ƒ∞√ß ve Dƒ±≈ü Tic. A.≈ü.", 
                  electric: { meter_no: "39296873", last_reading: 0 },
                  water: { meter_no: "5185317", last_reading: 0 },
                  history: []
                },
                { id: "57", office_no: "Z-60", name: "Emir G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297055", last_reading: 0 },
                  water: { meter_no: "5185327", last_reading: 0 },
                  history: []
                },
                { id: "58", office_no: "Z-59", name: "HGL G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297206", last_reading: 0 },
                  water: { meter_no: "5185439", last_reading: 0 },
                  history: []
                },
                { id: "59", office_no: "Z-58", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185293", last_reading: 0 },
                  history: []
                },
                { id: "60", office_no: "Z-57", name: "Asav Lojistik LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296997", last_reading: 0 },
                  water: { meter_no: "5185296", last_reading: 0 },
                  history: []
                },
                { id: "61", office_no: "Z-56", name: "Nehir G√ºmr√ºkleme ƒ∞√ß Dƒ±≈ü Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297008", last_reading: 0 },
                  water: { meter_no: "5185324", last_reading: 0 },
                  history: []
                },
                { id: "62", office_no: "Z-55", name: "Volkan G√ºmr√ºkleme/Ayla Altuncu Ba≈ütƒ±mar", 
                  electric: { meter_no: "39296777", last_reading: 0 },
                  water: { meter_no: "5185305", last_reading: 0 },
                  history: []
                },
                { id: "63", office_no: "Z-54", name: "Tunaset G√ºmr√ºk M√º≈üavirliƒüi", 
                  electric: { meter_no: "39296884", last_reading: 0 },
                  water: { meter_no: "5185310", last_reading: 0 },
                  history: []
                },
                { id: "64", office_no: "Z-53", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185373", last_reading: 0 },
                  history: []
                },
                { id: "65", office_no: "Z-52", name: "Erkal Ulus.Nak.Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297103", last_reading: 0 },
                  water: { meter_no: "5185363", last_reading: 0 },
                  history: []
                },
                { id: "66", office_no: "Z-51", name: "Karem G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297126", last_reading: 0 },
                  water: { meter_no: "5185404", last_reading: 0 },
                  history: []
                },
                { id: "67", office_no: "Z-50", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185370", last_reading: 0 },
                  history: []
                },
                { id: "68", office_no: "Z-49", name: "K√ºresel G√ºmr√ºk M√º≈ü. Ve Loj. Hiz. A.≈û.", 
                  electric: { meter_no: "39297013", last_reading: 0 },
                  water: { meter_no: "5185383", last_reading: 0 },
                  history: []
                },
                { id: "69", office_no: "Z-48", name: "", 
                  electric: { meter_no: "39139415", last_reading: 0 },
                  water: { meter_no: "5185340", last_reading: 0 },
                  history: []
                },
                { id: "70", office_no: "Z-47", name: "Mainland Lojistik Depolama Hizmt.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296791", last_reading: 0 },
                  water: { meter_no: "5185257", last_reading: 0 },
                  history: []
                },
                { id: "71", office_no: "Z-46", name: "Transalkƒ±m Ulus.Nak.Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "3929704", last_reading: 0 },
                  water: { meter_no: "5185355", last_reading: 0 },
                  history: []
                },
                { id: "72", office_no: "Z-45", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185443", last_reading: 0 },
                  history: []
                },
                { id: "73", office_no: "Z-44", name: "Day G√ºmr√ºk M√º≈üavirliƒüi A.≈û.", 
                  electric: { meter_no: "39297139", last_reading: 0 },
                  water: { meter_no: "5185375", last_reading: 0 },
                  history: []
                },
                { id: "74", office_no: "Z-43", name: "Data G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297120", last_reading: 0 },
                  water: { meter_no: "5185417", last_reading: 0 },
                  history: []
                },
                { id: "75", office_no: "Z-42", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "76", office_no: "Z-41", name: "Suba≈üƒ± G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296778", last_reading: 0 },
                  water: { meter_no: "5185311", last_reading: 0 },
                  history: []
                },
                { id: "77", office_no: "Z-40", name: "DMR G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296958", last_reading: 0 },
                  water: { meter_no: "5185358", last_reading: 0 },
                  history: []
                },
                { id: "78", office_no: "Z-39", name: "√ñmtur Loj.Dƒ±≈ü Tic.", 
                  electric: { meter_no: "39297009", last_reading: 0 },
                  water: { meter_no: "5185313", last_reading: 0 },
                  history: []
                },
                { id: "79", office_no: "Z-38", name: "G.S.G. G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297142", last_reading: 0 },
                  water: { meter_no: "5185270", last_reading: 0 },
                  history: []
                },
                { id: "80", office_no: "Z-37", name: "Haldun Karakoyun", 
                  electric: { meter_no: "39297171", last_reading: 0 },
                  water: { meter_no: "5185326", last_reading: 0 },
                  history: []
                },
                { id: "81", office_no: "Z-36", name: "Emirler Loj.G√ºm.Acent.Hiz.Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296912", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "82", office_no: "Z-35", name: "Netist Dƒ±≈ü Tic. A.≈û.", 
                  electric: { meter_no: "39296808", last_reading: 0 },
                  water: { meter_no: "5185298", last_reading: 0 },
                  history: []
                },
                { id: "83", office_no: "Z-34", name: "Solmaz K√ºresel G√ºmr√ºk M√º≈üavirliƒüi A.≈û.", 
                  electric: { meter_no: "39297032", last_reading: 0 },
                  water: { meter_no: "5185427", last_reading: 0 },
                  history: []
                },
                { id: "84", office_no: "Z-33", name: "Solmaz K√ºresel G√ºmr√ºk M√º≈üavirliƒüi A.≈û.", 
                  electric: { meter_no: "39297148", last_reading: 0 },
                  water: { meter_no: "5185303", last_reading: 0 },
                  history: []
                },
                { id: "85", office_no: "Z-32", name: "Trasant Ulus.Nak.Dƒ±≈ü Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296830", last_reading: 0 },
                  water: { meter_no: "5185275", last_reading: 0 },
                  history: []
                },
                { id: "86", office_no: "Z-31", name: "", 
                  electric: { meter_no: "39297106", last_reading: 0 },
                  water: { meter_no: "8846528", last_reading: 0 },
                  history: []
                },
                { id: "87", office_no: "Z-30", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "88", office_no: "Z-29", name: "√ñyk√º G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297081", last_reading: 0 },
                  water: { meter_no: "5185318", last_reading: 0 },
                  history: []
                },
                { id: "89", office_no: "Z-28", name: "Link Denizcilik ve Ta≈ü.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297203", last_reading: 0 },
                  water: { meter_no: "5185304", last_reading: 0 },
                  history: []
                },
                { id: "90", office_no: "Z-27", name: "G√º√ßl√º Uluslararasƒ± Nak. Turz.San.Dƒ±≈ü Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296901", last_reading: 0 },
                  water: { meter_no: "5185304", last_reading: 0 },
                  history: []
                },
                { id: "91", office_no: "Z-26", name: "Ate≈üer Lojistik LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297030", last_reading: 0 },
                  water: { meter_no: "5185441", last_reading: 0 },
                  history: []
                },
                { id: "92", office_no: "Z-25", name: "Duray G√ºmr√ºkleme Ulus. Nak. Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296940", last_reading: 0 },
                  water: { meter_no: "5185336", last_reading: 0 },
                  history: []
                },
                { id: "93", office_no: "Z-24", name: "Bultrans Ulus.Loj. Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297053", last_reading: 0 },
                  water: { meter_no: "5185325", last_reading: 0 },
                  history: []
                },
                { id: "94", office_no: "Z-23", name: "Pozitif G√ºmr√ºk M√º≈üavirlik Hizmetleri LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296935", last_reading: 0 },
                  water: { meter_no: "5185272", last_reading: 0 },
                  history: []
                },
                { id: "95", office_no: "Z-22", name: "Boykan G√ºmr√ºk M√º≈ü.Loj. A.≈û.", 
                  electric: { meter_no: "39297119", last_reading: 0 },
                  water: { meter_no: "5185425", last_reading: 0 },
                  history: []
                },
                { id: "96", office_no: "Z-21", name: "Palamutlar Group Lojistik Dƒ±≈ü Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297201", last_reading: 0 },
                  water: { meter_no: "5185283", last_reading: 0 },
                  history: []
                },
                { id: "97", office_no: "Z-20", name: "G√º√ßl√º Uluslararasƒ± Nak. Turz.San.Dƒ±≈ü Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297187", last_reading: 0 },
                  water: { meter_no: "5155344", last_reading: 0 },
                  history: []
                },
                { id: "98", office_no: "Z-19", name: "Asy G√ºmr√ºk M√º≈üavirliƒüi A.≈û.", 
                  electric: { meter_no: "39297015", last_reading: 0 },
                  water: { meter_no: "5185260", last_reading: 0 },
                  history: []
                },
                { id: "99", office_no: "Z-18", name: "Transmetro G√ºmr√ºk M√º≈üavirliƒüi Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297092", last_reading: 0 },
                  water: { meter_no: "5185323", last_reading: 0 },
                  history: []
                },
                { id: "100", office_no: "Z-17", name: "Tuaz Lojistik G√ºmr√ºkleme LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297115", last_reading: 0 },
                  water: { meter_no: "5185290", last_reading: 0 },
                  history: []
                },
                { id: "101", office_no: "Z-16", name: "Egemen Nakliyat San.Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296824", last_reading: 0 },
                  water: { meter_no: "5185354", last_reading: 0 },
                  history: []
                },
                { id: "102", office_no: "Z-15", name: "Mentor G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296849", last_reading: 0 },
                  water: { meter_no: "5185269", last_reading: 0 },
                  history: []
                },
                { id: "103", office_no: "Z-14", name: "ƒ∞mex Ta≈üƒ±macƒ±lƒ±k San.Dƒ±≈ü.Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296959", last_reading: 0 },
                  water: { meter_no: "5185387", last_reading: 0 },
                  history: []
                },
                { id: "104", office_no: "Z-13", name: "Cem Trans/Murat AK√áA", 
                  electric: { meter_no: "39296757", last_reading: 0 },
                  water: { meter_no: "5185416", last_reading: 0 },
                  history: []
                },
                { id: "105", office_no: "Z-12", name: "E-Batƒ± G√ºmr√ºk M√º≈üavirlik Hizmetleri LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296867", last_reading: 0 },
                  water: { meter_no: "5185448", last_reading: 0 },
                  history: []
                },
                { id: "106", office_no: "Z-11", name: "Peyi√ß Transport Dƒ±≈ü Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296761", last_reading: 0 },
                  water: { meter_no: "5185389", last_reading: 0 },
                  history: []
                },
                { id: "107", office_no: "Z-10", name: "Bizz Trans Ulus.Nak./A≈ükƒ±n Muammer Tekin", 
                  electric: { meter_no: "39297068", last_reading: 0 },
                  water: { meter_no: "5185409", last_reading: 0 },
                  history: []
                },
                { id: "108", office_no: "Z-09", name: "Turnak G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296764", last_reading: 0 },
                  water: { meter_no: "5185337", last_reading: 0 },
                  history: []
                },
                { id: "109", office_no: "Z-08", name: "Sƒ±r G√ºmr√ºk M√º≈üavirli LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297176", last_reading: 0 },
                  water: { meter_no: "5185321", last_reading: 0 },
                  history: []
                },
                { id: "110", office_no: "Z-07", name: "Oskar G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296784", last_reading: 0 },
                  water: { meter_no: "5185261", last_reading: 0 },
                  history: []
                },
                { id: "111", office_no: "Z-06", name: "Boƒüazi√ßi G√ºmr√ºk M√º≈üavirliƒüi A.≈û.", 
                  electric: { meter_no: "39297202", last_reading: 0 },
                  water: { meter_no: "5185408", last_reading: 0 },
                  history: []
                },
                { id: "112", office_no: "Z-05", name: "Tepe G√ºmr√ºk M√º≈üavirliƒüi", 
                  electric: { meter_no: "39297150", last_reading: 0 },
                  water: { meter_no: "5185266", last_reading: 0 },
                  history: []
                },
                { id: "113", office_no: "Z-04", name: "Datalog Ulus.Ta≈ü ƒ∞th.ƒ∞hr.Dƒ±≈ü Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297122", last_reading: 0 },
                  water: { meter_no: "5185386", last_reading: 0 },
                  history: []
                },
                { id: "114", office_no: "Z-03", name: "Sienzi Loj. Antrepo Dƒ±≈ü Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297129", last_reading: 0 },
                  water: { meter_no: "5185365", last_reading: 0 },
                  history: []
                },
                { id: "115", office_no: "Z-02", name: "Doƒüruer G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297022", last_reading: 0 },
                  water: { meter_no: "5185426", last_reading: 0 },
                  history: []
                },
                { id: "116", office_no: "Z-01", name: "Deks Tekstil ƒ∞th.ƒ∞hr.Turz.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296962", last_reading: 0 },
                  water: { meter_no: "5185446", last_reading: 0 },
                  history: []
                },
                
                // 100 NUMARALI OFƒ∞SLER (MERKEZ Bƒ∞NA)
                { id: "117", office_no: "101", name: "H√ºner Ulus.Ta≈ü.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297099", last_reading: 0 },
                  water: { meter_no: "5185267", last_reading: 0 },
                  history: []
                },
                { id: "118", office_no: "102", name: "Kƒ±zƒ±lkaya G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297010", last_reading: 0 },
                  water: { meter_no: "5185335", last_reading: 0 },
                  history: []
                },
                { id: "119", office_no: "103", name: "Tezer G√ºmr√ºk M√º≈üavirliƒüi", 
                  electric: { meter_no: "39297097", last_reading: 0 },
                  water: { meter_no: "5185374", last_reading: 0 },
                  history: []
                },
                { id: "120", office_no: "104", name: "Mettrans Ta≈üƒ±macƒ±lƒ±k ve Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296766", last_reading: 0 },
                  water: { meter_no: "5185442", last_reading: 0 },
                  history: []
                },
                { id: "121", office_no: "105", name: "Ulustrans Ulus. Nak.Tic. A.≈û.", 
                  electric: { meter_no: "39297165", last_reading: 0 },
                  water: { meter_no: "5185392", last_reading: 0 },
                  history: []
                },
                { id: "122", office_no: "106", name: "Elt Global Loj. Ve Dƒ±≈ü Ticaret A.≈û.", 
                  electric: { meter_no: "39297088", last_reading: 0 },
                  water: { meter_no: "5185378", last_reading: 0 },
                  history: []
                },
                { id: "123", office_no: "107", name: "Okuyan G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297107", last_reading: 0 },
                  water: { meter_no: "5185410", last_reading: 0 },
                  history: []
                },
                { id: "124", office_no: "108", name: "Sentez G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297057", last_reading: 0 },
                  water: { meter_no: "5185420", last_reading: 0 },
                  history: []
                },
                { id: "125", office_no: "109", name: "Bunasta G√ºmr√ºk Transit Hiz.ƒ∞th.ƒ∞hr.Tic.A.≈û.", 
                  electric: { meter_no: "39297208", last_reading: 0 },
                  water: { meter_no: "5185364", last_reading: 0 },
                  history: []
                },
                { id: "126", office_no: "110", name: "ƒ∞ST Global G√ºmr√ºk M√º≈üavirliƒüi", 
                  electric: { meter_no: "39297039", last_reading: 0 },
                  water: { meter_no: "5185276", last_reading: 0 },
                  history: []
                },
                { id: "127", office_no: "111", name: "Borusan Tedarik Zinciri. √á√∂z.ve Tek. A.≈û.", 
                  electric: { meter_no: "39297089", last_reading: 0 },
                  water: { meter_no: "5185339", last_reading: 0 },
                  history: []
                },
                { id: "128", office_no: "112", name: "Asset G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296817", last_reading: 0 },
                  water: { meter_no: "5185309", last_reading: 0 },
                  history: []
                },
                { id: "129", office_no: "113", name: "BD Global Loj.Turz.San.Dƒ±≈ü Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297188", last_reading: 0 },
                  water: { meter_no: "5185289", last_reading: 0 },
                  history: []
                },
                { id: "130", office_no: "114", name: "Oben G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297128", last_reading: 0 },
                  water: { meter_no: "5185429", last_reading: 0 },
                  history: []
                },
                { id: "131", office_no: "115", name: "Yƒ±ldƒ±z G√ºmr√ºk Acent.Danƒ±≈ümanlƒ±k Hiz.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297193", last_reading: 0 },
                  water: { meter_no: "5185398", last_reading: 0 },
                  history: []
                },
                { id: "132", office_no: "116", name: "", 
                  electric: { meter_no: "39297074", last_reading: 0 },
                  water: { meter_no: "5185302", last_reading: 0 },
                  history: []
                },
                { id: "133", office_no: "117", name: "Boƒüa Ulus.Ta≈ü.Dƒ±≈ü Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297182", last_reading: 0 },
                  water: { meter_no: "5185405", last_reading: 0 },
                  history: []
                },
                { id: "134", office_no: "118", name: "HB Nakliyat G√ºmr√ºkleme Sinan Atay", 
                  electric: { meter_no: "39297125", last_reading: 0 },
                  water: { meter_no: "5185343", last_reading: 0 },
                  history: []
                },
                { id: "135", office_no: "119", name: "Karaca G√ºmr√ºk M√º≈üavirliƒüi A.≈û.", 
                  electric: { meter_no: "39296790", last_reading: 0 },
                  water: { meter_no: "5185379", last_reading: 0 },
                  history: []
                },
                { id: "136", office_no: "120", name: "Bor G√ºmr√ºk M√º≈üavirliƒüi A.≈û.", 
                  electric: { meter_no: "39296991", last_reading: 0 },
                  water: { meter_no: "4975390", last_reading: 0 },
                  history: []
                },
                { id: "137", office_no: "121", name: "G√ºler G√ºmr√ºk M√º≈üavirliƒüi A.≈û.", 
                  electric: { meter_no: "39296805", last_reading: 0 },
                  water: { meter_no: "5185308", last_reading: 0 },
                  history: []
                },
                { id: "138", office_no: "122", name: "Aslan Global G√ºmr√ºk M√º≈üavirliƒüi A.≈û.", 
                  electric: { meter_no: "39297058", last_reading: 0 },
                  water: { meter_no: "5185428", last_reading: 0 },
                  history: []
                },
                { id: "139", office_no: "123", name: "Hitit G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297095", last_reading: 0 },
                  water: { meter_no: "5185346", last_reading: 0 },
                  history: []
                },
                { id: "140", office_no: "124", name: "Duygu G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296829", last_reading: 0 },
                  water: { meter_no: "5185332", last_reading: 0 },
                  history: []
                },
                { id: "141", office_no: "125", name: "Obdan Sistem G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296794", last_reading: 0 },
                  water: { meter_no: "5185361", last_reading: 0 },
                  history: []
                },
                { id: "142", office_no: "126", name: "TGS Transport Ulus.Ta≈ü.Acen.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297178", last_reading: 0 },
                  water: { meter_no: "5185253", last_reading: 0 },
                  history: []
                },
                { id: "143", office_no: "127", name: "Erdal B√ºy√ºk≈üahin", 
                  electric: { meter_no: "39297209", last_reading: 0 },
                  water: { meter_no: "5185411", last_reading: 0 },
                  history: []
                },
                { id: "144", office_no: "128", name: "Karƒ±nca Lojistik A.≈û.", 
                  electric: { meter_no: "39296925", last_reading: 0 },
                  water: { meter_no: "5185340", last_reading: 0 },
                  history: []
                },
                { id: "145", office_no: "129", name: "Armatrans Ulus.Ta≈ü. Acen.ƒ∞th.ƒ∞hr.Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297029", last_reading: 0 },
                  water: { meter_no: "4675455", last_reading: 0 },
                  history: []
                },
                { id: "146", office_no: "130", name: "T√ºm Global Lojistik Hiz.A.≈û.", 
                  electric: { meter_no: "39297045", last_reading: 0 },
                  water: { meter_no: "8846594", last_reading: 0 },
                  history: []
                },
                { id: "147", office_no: "131", name: "DMS Lojistik Ta≈üƒ±macƒ±lƒ±k LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297177", last_reading: 0 },
                  water: { meter_no: "5185281", last_reading: 0 },
                  history: []
                },
                { id: "148", office_no: "132", name: "Saƒülƒ±k Transport Nak. Tic. LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297087", last_reading: 0 },
                  water: { meter_no: "5185444", last_reading: 0 },
                  history: []
                },
                { id: "149", office_no: "133", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185274", last_reading: 0 },
                  history: []
                },
                { id: "150", office_no: "134", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185274", last_reading: 0 },
                  history: []
                },
                { id: "151", office_no: "135", name: "TGL G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297127", last_reading: 0 },
                  water: { meter_no: "5185264", last_reading: 0 },
                  history: []
                },
                { id: "152", office_no: "136", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185391", last_reading: 0 },
                  history: []
                },
                { id: "153", office_no: "137", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "154", office_no: "138", name: "Orhan Yayla", 
                  electric: { meter_no: "39297164", last_reading: 0 },
                  water: { meter_no: "5185449", last_reading: 0 },
                  history: []
                },
                { id: "155", office_no: "139", name: "Asos Global Lojistik LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297156", last_reading: 0 },
                  water: { meter_no: "5185438", last_reading: 0 },
                  history: []
                },
                { id: "156", office_no: "140", name: "MKR G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297207", last_reading: 0 },
                  water: { meter_no: "5185312", last_reading: 0 },
                  history: []
                },
                { id: "157", office_no: "141", name: "Atabay Loj. Ve G√ºmr√ºkleme Tic. LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297017", last_reading: 0 },
                  water: { meter_no: "5185350", last_reading: 0 },
                  history: []
                },
                { id: "158", office_no: "142", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "159", office_no: "143", name: "Yƒ±lmaz Uluslararasƒ± Ta≈ü. LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296853", last_reading: 0 },
                  water: { meter_no: "5185436", last_reading: 0 },
                  history: []
                },
                { id: "160", office_no: "144", name: "BS Lojistik Dƒ±≈ü Ticaret LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296910", last_reading: 0 },
                  water: { meter_no: "5185431", last_reading: 0 },
                  history: []
                },
                { id: "161", office_no: "145", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185353", last_reading: 0 },
                  history: []
                },
                { id: "162", office_no: "146", name: "HG G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297136", last_reading: 0 },
                  water: { meter_no: "5185263", last_reading: 0 },
                  history: []
                },
                { id: "163", office_no: "147", name: "KRE Kare G√ºmr√ºk M√º≈üavirliƒüi", 
                  electric: { meter_no: "39296987", last_reading: 0 },
                  water: { meter_no: "5185388", last_reading: 0 },
                  history: []
                },
                { id: "164", office_no: "148", name: "", 
                  electric: { meter_no: "39296755", last_reading: 0 },
                  water: { meter_no: "5185416", last_reading: 0 },
                  history: []
                },
                { id: "165", office_no: "149", name: "G√ºne≈ü G√ºmr√ºk ve Lojistik Hiz. LTD.≈ûTƒ∞", 
                  electric: { meter_no: "39297147", last_reading: 0 },
                  water: { meter_no: "5185322", last_reading: 0 },
                  history: []
                },
                { id: "166", office_no: "150", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185282", last_reading: 0 },
                  history: []
                },
                { id: "167", office_no: "151", name: "Point Lojistik LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39296819", last_reading: 0 },
                  water: { meter_no: "5185402", last_reading: 0 },
                  history: []
                },
                { id: "168", office_no: "152", name: "Global Express Dƒ±≈ü Tic.A.≈û.", 
                  electric: { meter_no: "39296897", last_reading: 0 },
                  water: { meter_no: "5185381", last_reading: 0 },
                  history: []
                },
                { id: "169", office_no: "153", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185264", last_reading: 0 },
                  history: []
                },
                { id: "170", office_no: "154", name: "On-El G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297083", last_reading: 0 },
                  water: { meter_no: "5185400", last_reading: 0 },
                  history: []
                },
                { id: "171", office_no: "155", name: "D√∂rtel G√ºmr√ºk M√º≈üavirliƒüi A.≈û.", 
                  electric: { meter_no: "39297074", last_reading: 0 },
                  water: { meter_no: "5185423", last_reading: 0 },
                  history: []
                },
                { id: "172", office_no: "156", name: "Teknik G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297108", last_reading: 0 },
                  water: { meter_no: "5185255", last_reading: 0 },
                  history: []
                },
                { id: "173", office_no: "157", name: "Kuzey G√ºmr√ºk M√º≈üavirliƒüi Hiz. LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297286", last_reading: 0 },
                  water: { meter_no: "5185314", last_reading: 0 },
                  history: []
                },
                { id: "174", office_no: "158", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185372", last_reading: 0 },
                  history: []
                },
                { id: "175", office_no: "159", name: "Keskin G√ºng√∂r G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297211", last_reading: 0 },
                  water: { meter_no: "5185434", last_reading: 0 },
                  history: []
                },
                { id: "176", office_no: "160", name: "Teksim G√ºmr√ºk M√º≈ü. LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297138", last_reading: 0 },
                  water: { meter_no: "5185333", last_reading: 0 },
                  history: []
                },
                { id: "177", office_no: "161", name: "", 
                  electric: { meter_no: "", last_reading: 0 },
                  water: { meter_no: "5185347", last_reading: 0 },
                  history: []
                },
                { id: "178", office_no: "162", name: "Seray Ulus.Ta≈ü.ƒ∞n≈ü.Tic.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297180", last_reading: 0 },
                  water: { meter_no: "5185301", last_reading: 0 },
                  history: []
                },
                { id: "179", office_no: "163", name: "Derin G√ºmr√ºk M√º≈üavirliƒüi LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "39297037", last_reading: 0 },
                  water: { meter_no: "5185328", last_reading: 0 },
                  history: []
                },
                
                // ATM ve Banka
                { id: "180", office_no: "ATM01", name: "T√ºrkiye Vakƒ±flar Bankasƒ± T.A.O", 
                  electric: { meter_no: "72950388", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "181", office_no: "ATM02", name: "Ziraat Bankasƒ± A.≈û.", 
                  electric: { meter_no: "21181800", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "182", office_no: "ATM03", name: "Denizbank A.≈û.", 
                  electric: { meter_no: "73941721", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "183", office_no: "ATM04", name: "Garanti Bankasƒ± A.≈û.", 
                  electric: { meter_no: "260019266", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "184", office_no: "ATM05", name: "T√ºrkiye ƒ∞≈ü Bankasƒ± A.≈û.", 
                  electric: { meter_no: "260003752", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "185", office_no: "ATM06", name: "Yapƒ± Kredi Bankasƒ± A.≈û.", 
                  electric: { meter_no: "52301997", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                
                // Telekom√ºnikasyon
                { id: "186", office_no: "Telekom-1", name: "Turkcell ƒ∞leti≈üim Hizmetleri A.≈û.", 
                  electric: { meter_no: "39587154", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "187", office_no: "Telekom-2", name: "Vodafone Telekom√ºnikasyon A.≈û.", 
                  electric: { meter_no: "40839162", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "188", office_no: "Telekom-3", name: "TT MOBƒ∞L ƒ∞LETƒ∞≈ûƒ∞M Hƒ∞ZMETLERƒ∞ A.≈û.", 
                  electric: { meter_no: "41038534", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                
                // √ñzel B√∂lgeler
                { id: "189", office_no: "20A", name: "Hamit CENGƒ∞Z/ƒ∞thalat Giri≈ü", 
                  electric: { meter_no: "40172802", last_reading: 0 },
                  water: { meter_no: "2365436", last_reading: 0 },
                  history: []
                },
                { id: "190", office_no: "20-2", name: "Hamit CENGƒ∞Z/Nakliye Giri≈ü", 
                  electric: { meter_no: "40172476", last_reading: 0 },
                  water: { meter_no: "2365382", last_reading: 0 },
                  history: []
                },
                { id: "191", office_no: "2B01", name: "Hamit CENGƒ∞Z/Bina Cafe", 
                  electric: { meter_no: "73262760", last_reading: 0 },
                  water: { meter_no: "900723640", last_reading: 0 },
                  history: []
                },
                { id: "192", office_no: "20-6R", name: "ABY Gƒ±da LTD.≈ûTƒ∞. / ƒ∞hracat 2 Cafe", 
                  electric: { meter_no: "73261729", last_reading: 0 },
                  water: { meter_no: "5832341", last_reading: 0 },
                  history: []
                },
                { id: "193", office_no: "20-6S", name: "ABY Gƒ±da LTD.≈ûTƒ∞. / ƒ∞hracat 3 Cafe", 
                  electric: { meter_no: "62536647", last_reading: 0 },
                  water: { meter_no: "6231862", last_reading: 0 },
                  history: []
                },
                { id: "194", office_no: "20-6V", name: "ABY Gƒ±da LTD.≈ûTƒ∞. / ƒ∞hracat 4 Tƒ±r Shop", 
                  electric: { meter_no: "73261730", last_reading: 0 },
                  water: { meter_no: "16328438", last_reading: 0 },
                  history: []
                },
                { id: "195", office_no: "Z-61", name: "Pilav Arabasƒ± /Z62", 
                  electric: { meter_no: "39296873", last_reading: 0 },
                  water: { meter_no: "6231784", last_reading: 0 },
                  history: []
                },
                { id: "196", office_no: "20-6H", name: "ABY Gƒ±da LTD.≈ûTƒ∞. / ƒ∞thalat 2 Cafe/Ofis", 
                  electric: { meter_no: "73261779", last_reading: 0 },
                  water: { meter_no: "398530", last_reading: 0 },
                  history: []
                },
                
                // Y√ºk Daƒüƒ±tƒ±m (YD-Ye≈üil Depo) ve Sunucu Daƒüƒ±tƒ±m (SD-Sarƒ± Depo) Alanlarƒ±
                
                // Fedex Express T√ºrkiye - T√ºm saya√ßlar
                { id: "197", office_no: "YD1-1", name: "Fedex Express T√ºrkiye Ta≈ü.Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "73136044", last_reading: 0 },
                  water: { meter_no: "5173255", last_reading: 0 },
                  history: []
                },
                { id: "198", office_no: "YD2-1", name: "G√º√ßl√º Global LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80071801", last_reading: 0 },
                  water: { meter_no: "9782907", last_reading: 0 },
                  history: []
                },
                { id: "199", office_no: "SD1-1", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80034332", last_reading: 0 },
                  water: { meter_no: "16326241", last_reading: 0 },
                  history: []
                },
                { id: "200", office_no: "SD2-1", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80034408", last_reading: 0 },
                  water: { meter_no: "5173349", last_reading: 0 },
                  history: []
                },
                { id: "201", office_no: "MD1-1", name: "Asav Loj. Hizmt. A.≈û.", 
                  electric: { meter_no: "80032892", last_reading: 0 },
                  water: { meter_no: "16326243", last_reading: 0 },
                  history: []
                },
                { id: "202", office_no: "MD2-1", name: "Asav Loj. Hizmt. A.≈û.", 
                  electric: { meter_no: "80031176", last_reading: 0 },
                  water: { meter_no: "5173059", last_reading: 0 },
                  history: []
                },
                { id: "203", office_no: "ID", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "8003384", last_reading: 0 },
                  water: { meter_no: "5173012", last_reading: 0 },
                  history: []
                },
                { id: "204", office_no: "YD1-2", name: "Fedex Express T√ºrkiye Ta≈ü.Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "73135649", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "205", office_no: "YD1-3", name: "Fedex Express T√ºrkiye Ta≈ü.Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "73135960", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "206", office_no: "YD1-4", name: "Fedex Express T√ºrkiye Ta≈ü.Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80072113", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "207", office_no: "YD1-5", name: "Fedex Express T√ºrkiye Ta≈ü.Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "73135417", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "208", office_no: "YD1-6", name: "Fedex Express T√ºrkiye Ta≈ü.Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "73135481", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "209", office_no: "YD1-7", name: "Fedex Express T√ºrkiye Ta≈ü.Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80071866", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "210", office_no: "YD2-2", name: "G√º√ßl√º Global LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "73135966", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "211", office_no: "YD2-3", name: "G√º√ßl√º Global LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80071872", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "212", office_no: "YD2-4", name: "G√º√ßl√º Global LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "73136012", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "213", office_no: "YD2-5", name: "G√º√ßl√º Global LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "73136050", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "214", office_no: "SD1-2", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80034043", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "215", office_no: "SD1-3", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80036312", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "216", office_no: "SD1-4", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80036139", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "217", office_no: "SD1-5", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "800353425", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "218", office_no: "SD1-6", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80047978", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "219", office_no: "SD1-7", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80036076", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "220", office_no: "SD2-3", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80036034", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "221", office_no: "SD2-4", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80036228", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "222", office_no: "SD2-5", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80034356", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "223", office_no: "SD2-6", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80034397", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "224", office_no: "SD2-7", name: "Mir Global Lojistik Tƒ∞C.LTD.≈ûTƒ∞.", 
                  electric: { meter_no: "80034389", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "225", office_no: "MD1-2", name: "Asav Loj. Hizmt. A.≈û.", 
                  electric: { meter_no: "80036025", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "226", office_no: "MD1-3", name: "Asav Loj. Hizmt. A.≈û.", 
                  electric: { meter_no: "80032830", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "227", office_no: "MD1-4", name: "Asav Loj. Hizmt. A.≈û.", 
                  electric: { meter_no: "80032844", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "228", office_no: "MD1-5", name: "Asav Loj. Hizmt. A.≈û.", 
                  electric: { meter_no: "80032396", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "229", office_no: "MD1-6", name: "Asav Loj. Hizmt. A.≈û.", 
                  electric: { meter_no: "80032907", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "230", office_no: "MD2-3", name: "Asav Loj. Hizmt. A.≈û.", 
                  electric: { meter_no: "80034074", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "231", office_no: "MD2-4", name: "Asav Loj. Hizmt. A.≈û.", 
                  electric: { meter_no: "80034075", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "232", office_no: "MD2-5", name: "Asav Loj. Hizmt. A.≈û.", 
                  electric: { meter_no: "80033844", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                },
                { id: "233", office_no: "MD2-6", name: "Asav Loj. Hizmt. A.≈û.", 
                  electric: { meter_no: "80034072", last_reading: 0 },
                  water: { meter_no: "", last_reading: 0 },
                  history: []
                }
            ];
            
            AppState.setState({ offices });
        }

        function initializeInventory() {
            const inventory = [
                {
                    id: 1,
                    name: "Elektrik Kablosu",
                    quantity: 150,
                    unit: "Metre",
                    warehouse: "TEKNƒ∞K DEPO",
                    description: "2x2.5mm kesitli NYM kablo",
                    lastUpdated: new Date().toISOString(),
                    updatedBy: "admin"
                },
                {
                    id: 2,
                    name: "Temizlik Malzemesi",
                    quantity: 25,
                    unit: "Litre",
                    warehouse: "ƒ∞≈ûLETME DEPO",
                    description: "Genel temizlik sol√ºsyonu",
                    lastUpdated: new Date().toISOString(),
                    updatedBy: "admin"
                },
                {
                    id: 3,
                    name: "LED Ampul",
                    quantity: 200,
                    unit: "Adet",
                    warehouse: "TEKNƒ∞K DEPO",
                    description: "10W LED ampul",
                    lastUpdated: new Date().toISOString(),
                    updatedBy: "admin"
                }
            ];
            
            AppState.setState({ inventory });
        }

        // Event Listeners
        function setupEventListeners() {
            // Navigation
            $('.nav-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = e.target.getAttribute('data-page');
                    navigateToPage(page);
                });
            });
            
            // Login/Logout
            $('#loginBtn').addEventListener('click', () => showModal('loginModal'));
            $('#heroLoginBtn').addEventListener('click', () => showModal('loginModal'));
            
            // Language Switcher
            $('#langButton').addEventListener('click', () => {
                $('#langDropdown').classList.toggle('show');
            });
            
            $$('.lang-option').forEach(option => {
                option.addEventListener('click', (e) => {
                    const lang = e.target.getAttribute('data-lang');
                    setLanguage(lang);
                    $('#langDropdown').classList.remove('show');
                });
            });
            
            // Theme Toggle
            $('#themeToggle').addEventListener('click', () => {
                const currentTheme = AppState.data.currentTheme;
                setTheme(currentTheme === 'light' ? 'dark' : 'light');
            });
            
            // Sidebar Navigation
            $$('.sidebar-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    const view = e.currentTarget.getAttribute('data-view');
                    navigateToView(view);
                });
            });
            
            // Search inputs
            $('#sidebarSearch').addEventListener('input', debounce((e) => {
                filterSidebar(e.target.value);
            }, 300));
            
            $('#officeSearch').addEventListener('input', debounce((e) => {
                filterOffices(e.target.value);
            }, 300));
            
            // Add buttons
            $('#addOfficeBtn').addEventListener('click', () => {
                $('#officeModalTitle').setAttribute('data-i18n', 'office.addTitle');
                updateTranslations();
                clearOfficeForm();
                showModal('officeModal');
            });
            
            $('#addUserBtn').addEventListener('click', () => {
                $('#userModalTitle').setAttribute('data-i18n', 'user.addTitle');
                updateTranslations();
                clearUserForm();
                showModal('userModal');
            });
            
            // Close modals on outside click
            window.addEventListener('click', (e) => {
                if (e.target.classList.contains('modal')) {
                    e.target.classList.remove('show');
                }
            });
            
            // Form submissions
            $('#loginForm').addEventListener('submit', (e) => {
                e.preventDefault();
                handleLogin();
            });
            
            // Settings
            $('#saveSettingsBtn').addEventListener('click', saveSettings);
            $('#backupBtn').addEventListener('click', () => createBackup(false));
            $('#restoreBtn').addEventListener('click', restoreBackup);
            
            // Inventory
            $('#addInventoryBtn').addEventListener('click', showAddInventoryModal);
            $('#bulkUploadBtn').addEventListener('click', showBulkUploadModal);
            $('#exportInventoryBtn').addEventListener('click', exportInventory);
            
            // Filter changes
            $('#officeFilter').addEventListener('change', filterOffices);
            $('#warehouseFilter').addEventListener('change', filterInventory);
        }

        // Navigation Functions
        function navigateToPage(page) {
            // Hide all pages
            $$('.page').forEach(p => p.style.display = 'none');
            
            // Update nav active state
            $$('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-page') === page) {
                    item.classList.add('active');
                }
            });
            
            // Show selected page
            $(`#${page}Page`).style.display = 'block';
            
            // If navigating to dashboard and logged in, show it
            if (page === 'dashboard' && AppState.data.currentUser) {
                showDashboard();
            }
        }

        function navigateToView(view) {
            // Hide all views
            $$('.view').forEach(v => v.style.display = 'none');
            
            // Update sidebar active state
            $$('.sidebar-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-view') === view) {
                    item.classList.add('active');
                }
            });
            
            // Show selected view
            $(`#${view}View`).style.display = 'block';
            
            // Load view specific data
            switch(view) {
                case 'overview':
                    loadDashboardData();
                    break;
                case 'offices':
                    renderOffices();
                    break;
                case 'meters':
                    renderMeters();
                    break;
                case 'inventory':
                    renderInventory();
                    break;
                case 'users':
                    renderUsers();
                    break;
                case 'settings':
                    loadSettings();
                    break;
            }
        }

        // Authentication
        function handleLogin() {
            const usernameEl = $('#username');
            const passwordEl = $('#password');
            const rememberMeEl = $('#rememberMe');
            
            if (!usernameEl || !passwordEl) return;
            
            const username = usernameEl.value.trim();
            const password = passwordEl.value.trim();
            const rememberMe = rememberMeEl ? rememberMeEl.checked : false;
            
            // Clear errors
            const usernameError = $('#usernameError');
            const passwordError = $('#passwordError');
            
            if (usernameError) usernameError.textContent = '';
            if (passwordError) passwordError.textContent = '';
            
            // Validation
            if (!username) {
                if (usernameError) usernameError.textContent = 'Kullanƒ±cƒ± adƒ± gereklidir';
                return;
            }
            
            if (!password) {
                if (passwordError) passwordError.textContent = '≈ûifre gereklidir';
                return;
            }
            
            // Find user
            const user = AppState.data.users.find(u => 
                u.username === username && verifyPassword(password, u.password)
            );
            
            if (user) {
                // Update last login
                user.lastLogin = new Date().toISOString();
                
                // Set current user
                AppState.setState({ currentUser: user });
                
                // Remember me
                if (rememberMe) {
                    try {
                        localStorage.setItem('rememberedUser', username);
                    } catch(e) {
                        console.warn('Could not save remembered user');
                    }
                }
                
                // Log activity
                ActivityLogger.log('Giri≈ü', `${user.name} sisteme giri≈ü yaptƒ±`);
                
                // Close modal and show dashboard
                closeModal('loginModal');
                showDashboard();
                
                showToast(`Ho≈ü geldiniz, ${user.name}!`, 'success');
            } else {
                if (passwordError) passwordError.textContent = 'Ge√ßersiz kullanƒ±cƒ± adƒ± veya ≈üifre';
            }
        }

        function handleLogout() {
            const user = AppState.data.currentUser;
            
            ActivityLogger.log('√áƒ±kƒ±≈ü', `${user.name} sistemden √ßƒ±kƒ±≈ü yaptƒ±`);
            
            AppState.setState({ currentUser: null });
            
            // Clear remembered user if exists
            localStorage.removeItem('rememberedUser');
            
            // Navigate to home
            navigateToPage('home');
            
            showToast('Ba≈üarƒ±yla √ßƒ±kƒ±≈ü yaptƒ±nƒ±z', 'success');
        }

        function showDashboard() {
            navigateToPage('dashboard');
            
            // Update user info
            const userNameEl = $('#userName');
            if (userNameEl && AppState.data.currentUser) {
                userNameEl.textContent = AppState.data.currentUser.name;
            }
            
            // Show/hide admin menu
            const usersMenuItem = $('#usersMenuItem');
            if (usersMenuItem) {
                if (AppState.data.currentUser && AppState.data.currentUser.role === 'admin') {
                    usersMenuItem.style.display = 'flex';
                } else {
                    usersMenuItem.style.display = 'none';
                }
            }
            
            // Load dashboard data
            loadDashboardData();
        }

        // Dashboard Functions
        function loadDashboardData() {
            // Update statistics
            const offices = AppState.data.offices;
            const inventory = AppState.data.inventory;
            
            const totalOfficesEl = $('#totalOffices');
            if (totalOfficesEl) totalOfficesEl.textContent = offices.length;
            
            const activeMetersEl = $('#activeMeters');
            if (activeMetersEl) activeMetersEl.textContent = offices.filter(o => o.electric?.meter_no).length;
            
            const monthlyConsumptionEl = $('#monthlyConsumption');
            if (monthlyConsumptionEl) monthlyConsumptionEl.textContent = calculateMonthlyConsumption();
            
            const totalInventoryEl = $('#totalInventory');
            if (totalInventoryEl) totalInventoryEl.textContent = inventory.reduce((sum, item) => sum + item.quantity, 0);
            
            // Initialize chart
            initializeConsumptionChart();
            
            // Load recent activities
            ActivityLogger.renderActivities();
        }

        function calculateMonthlyConsumption() {
            const offices = AppState.data.offices;
            let total = 0;
            
            offices.forEach(office => {
                if (office.electric?.last_reading) {
                    total += office.electric.last_reading;
                }
            });
            
            return total.toLocaleString('tr-TR');
        }

        let consumptionChart;

        function initializeConsumptionChart() {
            const canvas = $('#consumptionChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            // Check if Chart.js is loaded
            if (typeof Chart === 'undefined') {
                console.warn('Chart.js not loaded');
                return;
            }
            
            if (consumptionChart) {
                consumptionChart.destroy();
            }
            
            // Generate sample data
            const labels = [];
            const data = [];
            
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                labels.push(date.toLocaleDateString('tr-TR', { weekday: 'short' }));
                data.push(Math.floor(Math.random() * 1000) + 500);
            }
            
            consumptionChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Elektrik T√ºketimi (kWh)',
                        data: data,
                        borderColor: '#d42f2f',
                        backgroundColor: 'rgba(212, 47, 47, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // Office Management
        function renderOffices() {
            const tbody = $('#officesTableBody');
            if (!tbody) return;
            
            const offices = AppState.data.offices;
            const officeSearchEl = $('#officeSearch');
            const officeFilterEl = $('#officeFilter');
            
            const searchTerm = officeSearchEl ? officeSearchEl.value.toLowerCase() : '';
            const filterBlock = officeFilterEl ? officeFilterEl.value : '';
            
            let filteredOffices = offices;
            
            // Apply search
            if (searchTerm) {
                filteredOffices = filteredOffices.filter(office => 
                    office.office_no.toLowerCase().includes(searchTerm) ||
                    office.name.toLowerCase().includes(searchTerm)
                );
            }
            
            // Apply filter
            if (filterBlock) {
                filteredOffices = filteredOffices.filter(office => 
                    office.office_no.startsWith(filterBlock)
                );
            }
            
            tbody.innerHTML = filteredOffices.map(office => `
                <tr>
                    <td>${office.office_no}</td>
                    <td>${office.name || '-'}</td>
                    <td>${office.electric?.meter_no || '-'}</td>
                    <td>${office.water?.meter_no || '-'}</td>
                    <td>
                        <span class="badge ${office.electric?.last_reading || office.water?.last_reading ? 'badge-success' : 'badge-warning'}">
                            ${office.electric?.last_reading || office.water?.last_reading ? 'Aktif' : 'Pasif'}
                        </span>
                    </td>
                    <td>
                        <button class="btn btn-sm btn-outline" onclick="editOffice('${office.id}')">
                            ${t('common.edit')}
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        function filterOffices(searchTerm = '') {
            if (!searchTerm) {
                searchTerm = $('#officeSearch').value;
            }
            renderOffices();
        }

        function editOffice(id) {
            const office = AppState.data.offices.find(o => o.id === id);
            if (!office) return;
            
            $('#officeModalTitle').setAttribute('data-i18n', 'office.editTitle');
            updateTranslations();
            
            $('#officeNo').value = office.office_no;
            $('#companyName').value = office.name;
            $('#electricMeterNo').value = office.electric?.meter_no || '';
            $('#waterMeterNo').value = office.water?.meter_no || '';
            
            $('#officeNo').setAttribute('data-id', id);
            
            showModal('officeModal');
        }

        function clearOfficeForm() {
            $('#officeNo').value = '';
            $('#companyName').value = '';
            $('#electricMeterNo').value = '';
            $('#waterMeterNo').value = '';
            $('#officeNo').removeAttribute('data-id');
        }

        function saveOffice() {
            const id = $('#officeNo').getAttribute('data-id');
            const officeNo = $('#officeNo').value.trim();
            const companyName = $('#companyName').value.trim();
            const electricMeterNo = $('#electricMeterNo').value.trim();
            const waterMeterNo = $('#waterMeterNo').value.trim();
            
            if (!officeNo) {
                showToast('Ofis numarasƒ± gereklidir', 'error');
                return;
            }
            
            let offices = [...AppState.data.offices];
            
            if (id) {
                // Update existing
                const index = offices.findIndex(o => o.id === id);
                if (index !== -1) {
                    offices[index] = {
                        ...offices[index],
                        office_no: officeNo,
                        name: companyName,
                        electric: {
                            meter_no: electricMeterNo,
                            last_reading: offices[index].electric?.last_reading || 0
                        },
                        water: {
                            meter_no: waterMeterNo,
                            last_reading: offices[index].water?.last_reading || 0
                        }
                    };
                    
                    ActivityLogger.log('G√ºncelleme', `${officeNo} ofisi g√ºncellendi`);
                }
            } else {
                // Add new
                const newOffice = {
                    id: Date.now().toString(),
                    office_no: officeNo,
                    name: companyName,
                    electric: { meter_no: electricMeterNo, last_reading: 0 },
                    water: { meter_no: waterMeterNo, last_reading: 0 },
                    history: []
                };
                
                offices.push(newOffice);
                ActivityLogger.log('Ekleme', `${officeNo} ofisi eklendi`);
            }
            
            AppState.setState({ offices });
            closeModal('officeModal');
            renderOffices();
            showToast('Ofis ba≈üarƒ±yla kaydedildi', 'success');
        }

        // Meter Management
        function renderMeters() {
            const tbody = $('#metersTableBody');
            const offices = AppState.data.offices;
            
            let rows = [];
            
            offices.forEach(office => {
                // Electric meter
                if (office.electric?.meter_no) {
                    rows.push({
                        office_no: office.office_no,
                        type: 'Elektrik',
                        meter_no: office.electric.meter_no,
                        last_reading: office.electric.last_reading,
                        last_date: office.electric.last_date || '-',
                        consumption: calculateConsumption(office, 'electric')
                    });
                }
                
                // Water meter
                if (office.water?.meter_no) {
                    rows.push({
                        office_no: office.office_no,
                        type: 'Su',
                        meter_no: office.water.meter_no,
                        last_reading: office.water.last_reading,
                        last_date: office.water.last_date || '-',
                        consumption: calculateConsumption(office, 'water')
                    });
                }
            });
            
            tbody.innerHTML = rows.map(row => `
                <tr>
                    <td>${row.office_no}</td>
                    <td>${row.type}</td>
                    <td>${row.last_reading}</td>
                    <td>${row.last_date}</td>
                    <td>${row.consumption}</td>
                    <td>
                        <button class="btn btn-sm btn-primary" onclick="showMeterReadingModal('${row.office_no}', '${row.type}')">
                            Okuma Gir
                        </button>
                    </td>
                </tr>
            `).join('');
            
            // Update totals
            updateMeterTotals();
        }

        function calculateConsumption(office, type) {
            const history = office.history || [];
            if (history.length < 2) return '-';
            
            const lastTwo = history.slice(-2);
            const diff = lastTwo[1][type] - lastTwo[0][type];
            
            return `${diff} ${type === 'electric' ? 'kWh' : 'm¬≥'}`;
        }

        function updateMeterTotals() {
            const offices = AppState.data.offices;
            
            let totalElectric = 0;
            let totalWater = 0;
            let anomalies = 0;
            
            offices.forEach(office => {
                if (office.electric?.last_reading) {
                    totalElectric += office.electric.last_reading;
                    
                    // Check for anomaly (>1000 kWh)
                    if (office.electric.last_reading > 1000) {
                        anomalies++;
                    }
                }
                
                if (office.water?.last_reading) {
                    totalWater += office.water.last_reading;
                    
                    // Check for anomaly (>100 m¬≥)
                    if (office.water.last_reading > 100) {
                        anomalies++;
                    }
                }
            });
            
            $('#totalElectric').textContent = `${totalElectric.toLocaleString('tr-TR')} kWh`;
            $('#totalWater').textContent = `${totalWater.toLocaleString('tr-TR')} m¬≥`;
            $('#totalGas').textContent = '0 m¬≥';
            $('#anomalies').textContent = anomalies;
            
            // Send notification if anomalies
            if (anomalies > 0 && AppState.data.notifications) {
                sendNotification(
                    'Anormal T√ºketim Tespit Edildi!',
                    `${anomalies} ofiste y√ºksek t√ºketim deƒüerleri g√∂r√ºl√ºyor.`
                );
            }
        }

        function sendNotification(title, body) {
            if ("Notification" in window && Notification.permission === "granted") {
                new Notification(title, { body, icon: '/icon-192x192.png' });
            }
        }

        // Inventory Management
        function renderInventory() {
            const tbody = $('#inventoryTableBody');
            const inventory = AppState.data.inventory;
            const searchTerm = $('#inventorySearch').value.toLowerCase();
            const warehouseFilter = $('#warehouseFilter').value;
            
            let filtered = inventory;
            
            if (searchTerm) {
                filtered = filtered.filter(item => 
                    item.name.toLowerCase().includes(searchTerm) ||
                    item.description.toLowerCase().includes(searchTerm)
                );
            }
            
            if (warehouseFilter) {
                filtered = filtered.filter(item => 
                    item.warehouse.includes(warehouseFilter)
                );
            }
            
            tbody.innerHTML = filtered.map(item => `
                <tr>
                    <td>${item.name}</td>
                    <td>${item.quantity}</td>
                    <td>${item.unit}</td>
                    <td>${item.warehouse}</td>
                    <td>${formatDateTime(item.lastUpdated)}</td>
                    <td>
                        <button class="btn btn-sm btn-outline" onclick="editInventoryItem('${item.id}')">
                            ${t('common.edit')}
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        function filterInventory() {
            renderInventory();
        }

        function exportInventory() {
            const inventory = AppState.data.inventory;
            
            const data = [
                ['√úr√ºn Adƒ±', 'Miktar', 'Birim', 'Depo', 'A√ßƒ±klama', 'Son G√ºncelleme']
            ];
            
            inventory.forEach(item => {
                data.push([
                    item.name,
                    item.quantity,
                    item.unit,
                    item.warehouse,
                    item.description,
                    formatDateTime(item.lastUpdated)
                ]);
            });
            
            const ws = XLSX.utils.aoa_to_sheet(data);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, 'Envanter');
            
            const fileName = `Envanter_${new Date().toISOString().split('T')[0]}.xlsx`;
            XLSX.writeFile(wb, fileName);
            
            showToast('Envanter ba≈üarƒ±yla dƒ±≈üa aktarƒ±ldƒ±', 'success');
            ActivityLogger.log('Rapor', 'Envanter raporu olu≈üturuldu');
        }

        // User Management
        function renderUsers() {
            const tbody = $('#usersTableBody');
            const users = AppState.data.users;
            
            tbody.innerHTML = users.map(user => `
                <tr>
                    <td>${user.username}</td>
                    <td>${user.name}</td>
                    <td>
                        <span class="badge ${user.role === 'admin' ? 'badge-error' : 'badge-success'}">
                            ${user.role === 'admin' ? 'Y√∂netici' : user.role === 'depo' ? 'Depo' : 'Teknik'}
                        </span>
                    </td>
                    <td>${user.lastLogin ? formatDateTime(user.lastLogin) : '-'}</td>
                    <td>
                        <span class="badge ${user.active ? 'badge-success' : 'badge-warning'}">
                            ${user.active ? 'Aktif' : 'Pasif'}
                        </span>
                    </td>
                    <td>
                        <button class="btn btn-sm btn-outline" onclick="editUser('${user.username}')">
                            ${t('common.edit')}
                        </button>
                    </td>
                </tr>
            `).join('');
        }

        function editUser(username) {
            const user = AppState.data.users.find(u => u.username === username);
            if (!user) return;
            
            $('#userModalTitle').setAttribute('data-i18n', 'user.editTitle');
            updateTranslations();
            
            $('#userUsername').value = user.username;
            $('#userFullName').value = user.name;
            $('#userPassword').value = '';
            $('#userRole').value = user.role;
            
            $('#userUsername').setAttribute('data-editing', 'true');
            $('#userUsername').readOnly = true;
            
            showModal('userModal');
        }

        function clearUserForm() {
            $('#userUsername').value = '';
            $('#userFullName').value = '';
            $('#userPassword').value = '';
            $('#userRole').value = 'teknik';
            $('#userUsername').removeAttribute('data-editing');
            $('#userUsername').readOnly = false;
        }

        function saveUser() {
            const editing = $('#userUsername').getAttribute('data-editing');
            const username = $('#userUsername').value.trim();
            const fullName = $('#userFullName').value.trim();
            const password = $('#userPassword').value;
            const role = $('#userRole').value;
            
            if (!username || !fullName) {
                showToast('Kullanƒ±cƒ± adƒ± ve ad soyad gereklidir', 'error');
                return;
            }
            
            if (!editing && !password) {
                showToast('Yeni kullanƒ±cƒ± i√ßin ≈üifre gereklidir', 'error');
                return;
            }
            
            let users = [...AppState.data.users];
            
            if (editing) {
                // Update existing
                const index = users.findIndex(u => u.username === username);
                if (index !== -1) {
                    users[index] = {
                        ...users[index],
                        name: fullName,
                        role: role,
                        password: password ? hashPassword(password) : users[index].password
                    };
                    
                    ActivityLogger.log('G√ºncelleme', `${username} kullanƒ±cƒ±sƒ± g√ºncellendi`);
                }
            } else {
                // Check if username exists
                if (users.find(u => u.username === username)) {
                    showToast('Bu kullanƒ±cƒ± adƒ± zaten kullanƒ±lƒ±yor', 'error');
                    return;
                }
                
                // Add new
                const newUser = {
                    username: username,
                    password: hashPassword(password),
                    name: fullName,
                    role: role,
                    lastLogin: null,
                    active: true
                };
                
                users.push(newUser);
                ActivityLogger.log('Ekleme', `${username} kullanƒ±cƒ±sƒ± eklendi`);
            }
            
            AppState.setState({ users });
            closeModal('userModal');
            renderUsers();
            showToast('Kullanƒ±cƒ± ba≈üarƒ±yla kaydedildi', 'success');
        }

        // Settings
        function loadSettings() {
            $('#notificationsToggle').checked = AppState.data.notifications;
            $('#autoBackupToggle').checked = AppState.data.autoBackup;
            $('#languageSelect').value = AppState.data.currentLang;
            $('#themeSelect').value = AppState.data.currentTheme;
        }

        function saveSettings() {
            const notifications = $('#notificationsToggle').checked;
            const autoBackup = $('#autoBackupToggle').checked;
            const language = $('#languageSelect').value;
            const theme = $('#themeSelect').value;
            
            AppState.setState({
                notifications: notifications,
                autoBackup: autoBackup
            });
            
            setLanguage(language);
            setTheme(theme);
            
            if (autoBackup) {
                startAutoBackup();
            } else {
                stopAutoBackup();
            }
            
            showToast('Ayarlar kaydedildi', 'success');
            ActivityLogger.log('Ayarlar', 'Sistem ayarlarƒ± g√ºncellendi');
        }

        function restoreBackup() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const backup = JSON.parse(e.target.result);
                        
                        if (backup.version !== '1.0') {
                            showToast('Ge√ßersiz yedek dosyasƒ±', 'error');
                            return;
                        }
                        
                        AppState.setState({
                            offices: backup.data.offices,
                            inventory: backup.data.inventory,
                            users: backup.data.users,
                            activities: backup.data.activities
                        });
                        
                        showToast('Yedek ba≈üarƒ±yla geri y√ºklendi', 'success');
                        ActivityLogger.log('Geri Y√ºkleme', 'Sistem yedeƒüi geri y√ºklendi');
                        
                        // Reload current view
                        const activeView = $('.sidebar-item.active')?.getAttribute('data-view');
                        if (activeView) {
                            navigateToView(activeView);
                        }
                    } catch (error) {
                        showToast('Yedek dosyasƒ± okunamadƒ±', 'error');
                    }
                };
                
                reader.readAsText(file);
            };
            
            input.click();
        }

        // Generate Reports
        function generateReport(type) {
            showToast(`${type} raporu olu≈üturuluyor...`, 'success');
            
            setTimeout(() => {
                switch(type) {
                    case 'consumption':
                        generateConsumptionReport();
                        break;
                    case 'inventory':
                        exportInventory();
                        break;
                    case 'office':
                        generateOfficeReport();
                        break;
                    case 'activity':
                        generateActivityReport();
                        break;
                }
            }, 1000);
        }

        function generateConsumptionReport() {
            const offices = AppState.data.offices;
            const data = [
                ['Ofis No', 'Firma Adƒ±', 'Elektrik (kWh)', 'Su (m¬≥)', 'Toplam Maliyet (TL)']
            ];
            
            offices.forEach(office => {
                const electricCost = (office.electric?.last_reading || 0) * 1.5;
                const waterCost = (office.water?.last_reading || 0) * 15;
                const totalCost = electricCost + waterCost;
                
                data.push([
                    office.office_no,
                    office.name || '-',
                    office.electric?.last_reading || 0,
                    office.water?.last_reading || 0,
                    totalCost.toFixed(2)
                ]);
            });
            
            const ws = XLSX.utils.aoa_to_sheet(data);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, 'T√ºketim Raporu');
            
            const fileName = `Tuketim_Raporu_${new Date().toISOString().split('T')[0]}.xlsx`;
            XLSX.writeFile(wb, fileName);
            
            ActivityLogger.log('Rapor', 'T√ºketim raporu olu≈üturuldu');
        }

        function generateOfficeReport() {
            const offices = AppState.data.offices;
            const data = [
                ['Blok', 'Ofis No', 'Firma Adƒ±', 'Elektrik Saya√ß No', 'Su Saya√ß No', 'Durum']
            ];
            
            offices.forEach(office => {
                const block = office.office_no.split('-')[0] || 'Diƒüer';
                const status = (office.electric?.last_reading || office.water?.last_reading) ? 'Aktif' : 'Pasif';
                
                data.push([
                    block,
                    office.office_no,
                    office.name || '-',
                    office.electric?.meter_no || '-',
                    office.water?.meter_no || '-',
                    status
                ]);
            });
            
            const ws = XLSX.utils.aoa_to_sheet(data);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, 'Ofis Raporu');
            
            const fileName = `Ofis_Raporu_${new Date().toISOString().split('T')[0]}.xlsx`;
            XLSX.writeFile(wb, fileName);
            
            ActivityLogger.log('Rapor', 'Ofis raporu olu≈üturuldu');
        }

        function generateActivityReport() {
            const activities = AppState.data.activities;
            const data = [
                ['Tarih', 'Kullanƒ±cƒ±', 'ƒ∞≈ülem', 'Detay']
            ];
            
            activities.forEach(activity => {
                data.push([
                    formatDateTime(activity.timestamp),
                    activity.user || '-',
                    activity.action,
                    activity.details
                ]);
            });
            
            const ws = XLSX.utils.aoa_to_sheet(data);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, 'Aktivite Raporu');
            
            const fileName = `Aktivite_Raporu_${new Date().toISOString().split('T')[0]}.xlsx`;
            XLSX.writeFile(wb, fileName);
            
            ActivityLogger.log('Rapor', 'Aktivite raporu olu≈üturuldu');
        }

        // Filter Sidebar
        function filterSidebar(searchTerm) {
            const items = $$('.sidebar-item');
            
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(searchTerm.toLowerCase())) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // Initialize App function definition
        function initializeApp() {
            try {
                console.log('Initializing application...');
                // Load saved state
                AppState.loadFromLocalStorage();
                
                // Apply saved preferences
                if (typeof setTheme === 'function') {
                    setTheme(AppState.data.currentTheme);
                } else {
                    // Fallback theme setting
                    document.body.classList.toggle('dark-theme', AppState.data.currentTheme === 'dark');
                }
                
                if (typeof setLanguage === 'function') {
                    setLanguage(AppState.data.currentLang);
                } else {
                    // Fallback language setting
                    const lang = AppState.data.currentLang || 'tr';
                    document.documentElement.setAttribute('lang', lang);
                }
                
                // Initialize demo data if not exists
                if (AppState.data.offices.length === 0) {
                    // Add some demo offices
                    AppState.setState({
                        offices: [
                            { id: '1', officeNo: 'A101', companyName: 'Demo ≈ûirket 1', electricMeterNo: 'E12345', waterMeterNo: 'W12345' },
                            { id: '2', officeNo: 'B202', companyName: 'Demo ≈ûirket 2', electricMeterNo: 'E67890', waterMeterNo: 'W67890' }
                        ]
                    });
                }
                
                if (AppState.data.users.length === 0) {
                    // Add a default admin user
                    AppState.setState({
                        users: [
                            { id: '1', username: 'admin', fullName: 'Admin Kullanƒ±cƒ±', password: 'admin', role: 'admin' }
                        ]
                    });
                }
                
                // Basic event listeners
                const themeToggle = document.getElementById('themeToggle');
                if (themeToggle) {
                    themeToggle.addEventListener('click', () => {
                        const newTheme = AppState.data.currentTheme === 'dark' ? 'light' : 'dark';
                        document.body.classList.toggle('dark-theme', newTheme === 'dark');
                        AppState.setState({ currentTheme: newTheme });
                    });
                }
                
                const langToggle = document.getElementById('langToggle');
                if (langToggle) {
                    langToggle.addEventListener('click', () => {
                        const newLang = AppState.data.currentLang === 'en' ? 'tr' : 'en';
                        document.documentElement.setAttribute('lang', newLang);
                        AppState.setState({ currentLang: newLang });
                    });
                }
                
                // Try to navigate to home page if function exists
                if (typeof navigateTo === 'function') {
                    navigateTo('home');
                } else {
                    // Try to hide login section and show dashboard
                    const loginSection = document.getElementById('loginSection');
                    const dashboard = document.getElementById('dashboard');
                    if (loginSection) loginSection.style.display = 'none';
                    if (dashboard) dashboard.style.display = 'block';
                }
                
                // Hide loading screen when complete
                const loadingScreen = document.getElementById('loadingScreen');
                if (loadingScreen) {
                    loadingScreen.style.display = 'none';
                }
                
                console.log('Application initialized successfully');
            } catch (error) {
                console.error('Initialization error:', error);
                // Show error message and stack trace for debugging
                const errorMessage = error.message || 'Unknown error';
                const errorStack = error.stack || '';
                console.error('Error details:', errorMessage, errorStack);
                
                // Show user-friendly error message
                const loadingScreen = document.getElementById('loadingScreen');
                if (loadingScreen) {
                    const loadingText = loadingScreen.querySelector('.loading-text');
                    if (loadingText) {
                        loadingText.innerHTML = 'Uygulama ba≈ülatƒ±lƒ±rken bir hata olu≈ütu.<br>L√ºtfen sayfayƒ± yenileyin.';
                        loadingText.style.color = 'red';
                    }
                }
            }
        }
        
        // Initialize application with error handling
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                setTimeout(initializeApp, 100);
            });
        } else {
            // DOM is already loaded
            setTimeout(initializeApp, 100);
        }

        // Fallback to hide loading screen after 3 seconds
        setTimeout(() => {
            const loadingScreen = document.getElementById('loadingScreen');
            if (loadingScreen && loadingScreen.style.display !== 'none') {
                loadingScreen.style.display = 'none';
                console.warn('Loading screen hidden by timeout');
            }
        }, 3000);
        
        // Global error handler
        window.onerror = function(message, source, lineno, colno, error) {
            console.error(`Error: ${message} at ${source}:${lineno}:${colno}`);
            // Show error in console with full stack trace
            if (error && error.stack) {
                console.error('Error stack:', error.stack);
            }
            return false; // Let default handler run too
        };
        
        // Missing core functions
        function navigateTo(page) {
            console.log('Navigating to:', page);
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(p => p.style.display = 'none');
            
            // Show the target page
            const targetPage = document.getElementById(page + 'Page');
            if (targetPage) {
                targetPage.style.display = 'block';
                // Update active nav item
                const navItems = document.querySelectorAll('.nav-item');
                navItems.forEach(item => {
                    item.classList.toggle('active', item.getAttribute('data-page') === page);
                });
                // Store current page in state
                AppState.setState({ currentPage: page });
            } else {
                console.warn(`Page not found: ${page}`);
            }
        }
        
        function setTheme(theme) {
            console.log('Setting theme:', theme);
            document.body.classList.toggle('dark-theme', theme === 'dark');
            // Update theme toggle if exists
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.innerHTML = theme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
            }
        }
        
        function setLanguage(lang) {
            console.log('Setting language:', lang);
            document.documentElement.setAttribute('lang', lang);
            
            // Apply translations to all elements with data-i18n attribute
            const elements = document.querySelectorAll('[data-i18n]');
            elements.forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    // If it's an input with placeholder
                    if (element.hasAttribute('placeholder')) {
                        element.setAttribute('placeholder', translations[lang][key]);
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });
            
            // Update language toggle if exists
            const langToggle = document.getElementById('langToggle');
            if (langToggle) {
                langToggle.textContent = lang === 'tr' ? 'EN' : 'TR';
            }
        }
        
        // Setup event listeners
        function setupEventListeners() {
            console.log('Setting up event listeners');
            
            // Theme toggle
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    const newTheme = AppState.data.currentTheme === 'dark' ? 'light' : 'dark';
                    setTheme(newTheme);
                    AppState.setState({ currentTheme: newTheme });
                });
            }
            
            // Language toggle
            const langToggle = document.getElementById('langToggle');
            if (langToggle) {
                langToggle.addEventListener('click', () => {
                    const newLang = AppState.data.currentLang === 'en' ? 'tr' : 'en';
                    setLanguage(newLang);
                    AppState.setState({ currentLang: newLang });
                });
            }
            
            // Navigation links
            const navLinks = document.querySelectorAll('[data-page]');
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = link.getAttribute('data-page');
                    navigateTo(page);
                });
            });
        }
        
        // Initialize sample data
        function initializeOffices() {
            console.log('Initializing offices data');
            AppState.setState({
                offices: [
                    { id: '1', officeNo: 'A101', companyName: 'Demo ≈ûirket 1', electricMeterNo: 'E12345', waterMeterNo: 'W12345' },
                    { id: '2', officeNo: 'B202', companyName: 'Demo ≈ûirket 2', electricMeterNo: 'E67890', waterMeterNo: 'W67890' }
                ]
            });
        }
        
        function initializeUsers() {
            console.log('Initializing users data');
            AppState.setState({
                users: [
                    { id: '1', username: 'admin', fullName: 'Admin Kullanƒ±cƒ±', password: 'admin', role: 'admin' },
                    { id: '2', username: 'tekniker', fullName: 'Teknik Personel', password: 'tekniker', role: 'teknik' },
                    { id: '3', username: 'depo', fullName: 'Depo Personeli', password: 'depo', role: 'depo' }
                ]
            });
        }
        
        function initializeInventory() {
            console.log('Initializing inventory data');
            AppState.setState({
                inventory: [
                    { id: '1', itemCode: 'ELK001', name: 'Elektrik Sayacƒ±', category: 'Saya√ß', quantity: 15, unit: 'Adet' },
                    { id: '2', itemCode: 'SU001', name: 'Su Sayacƒ±', category: 'Saya√ß', quantity: 12, unit: 'Adet' },
                    { id: '3', itemCode: 'KBL001', name: 'Elektrik Kablosu', category: 'Kablo', quantity: 150, unit: 'Metre' },
                    { id: '4', itemCode: 'ARK001', name: 'Saya√ß Kutusu', category: 'Aksesuar', quantity: 8, unit: 'Adet' }
                ]
            });
        }
        
        // Auto backup functionality
        function setupAutoBackup() {
            console.log('Setting up auto backup');
            // Automatically backup data every hour
            setInterval(() => {
                if (AppState.data.autoBackup) {
                    console.log('Running auto backup...');
                    const backup = {
                        timestamp: new Date().toISOString(),
                        data: JSON.parse(JSON.stringify(AppState.data))
                    };
                    
                    try {
                        // Get existing backups
                        let backups = [];
                        const savedBackups = localStorage.getItem('appBackups');
                        if (savedBackups) {
                            backups = JSON.parse(savedBackups);
                        }
                        
                        // Add new backup (keep only last 10)
                        backups.push(backup);
                        if (backups.length > 10) {
                            backups = backups.slice(-10);
                        }
                        
                        // Save backups
                        localStorage.setItem('appBackups', JSON.stringify(backups));
                        console.log('Auto backup completed');
                    } catch (error) {
                        console.error('Auto backup failed:', error);
                    }
                }
            }, 3600000); // Every hour
        }

        // Stub functions for missing implementations
        function showAddInventoryModal() {
            showToast('Envanter ekleme √∂zelliƒüi yakƒ±nda eklenecek', 'warning');
        }
        
        function showBulkUploadModal() {
            showToast('Toplu y√ºkleme √∂zelliƒüi yakƒ±nda eklenecek', 'warning');
        }
        
        function editInventoryItem(id) {
            showToast('Envanter d√ºzenleme √∂zelliƒüi yakƒ±nda eklenecek', 'warning');
        }
        
        function showMeterReadingModal(officeNo, type) {
            showToast('Saya√ß okuma √∂zelliƒüi yakƒ±nda eklenecek', 'warning');
        }

        // Make functions global for onclick handlers
        window.closeModal = closeModal;
        window.handleLogin = handleLogin;
        window.saveOffice = saveOffice;
        window.saveUser = saveUser;
        window.editOffice = editOffice;
        window.editUser = editUser;
        window.editInventoryItem = editInventoryItem;
        window.showMeterReadingModal = showMeterReadingModal;
        window.generateReport = generateReport;
